<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YCV5KGB8ES"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YCV5KGB8ES');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Deep dive comparison of MongoDB Change Streams vs PostgreSQL CDC methods with interactive demos and performance analysis.">
    <title>MongoDB vs PostgreSQL: Change Data Capture Deep Dive - Interactive Comparison</title>
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #001E2B 0%, #00684A 50%, #00ED64 100%);
            color: #001E2B;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation Menu */
        .nav-menu {
            position: fixed;
            left: -320px;
            top: 0;
            width: 320px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 25px;
            overflow-y: auto;
            border-right: 1px solid rgba(0, 104, 74, 0.2);
            box-shadow: 4px 0 30px rgba(0, 30, 43, 0.15);
        }

        .nav-menu.open {
            left: 0;
        }

        .nav-menu h2 {
            color: #00684A;
            margin-bottom: 30px;
            font-size: 1.6rem;
            font-weight: 700;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #00ED64;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .nav-menu h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
            border-radius: 2px;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 8px;
        }

        .nav-menu > ul > li > a {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            text-decoration: none;
            color: #001E2B;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid transparent;
            font-weight: 600;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .nav-menu > ul > li > a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-menu > ul > li > a:hover::before,
        .nav-menu > ul > li > a.active::before {
            opacity: 1;
        }

        .nav-menu > ul > li > a:hover,
        .nav-menu > ul > li > a.active {
            border-left: 4px solid #00ED64;
            transform: translateX(8px);
            color: #00684A;
            box-shadow: 0 8px 25px rgba(0, 237, 100, 0.2);
        }

        /* Accordion Styles */
        .nav-accordion {
            margin-bottom: 10px;
        }

        .nav-category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(0, 104, 74, 0.1) 0%, rgba(0, 30, 43, 0.05) 100%);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            color: #00684A;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 1px solid rgba(0, 104, 74, 0.15);
            position: relative;
            overflow: hidden;
        }

        .nav-category-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.15) 0%, rgba(0, 184, 77, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-category-header:hover::before {
            opacity: 1;
        }

        .nav-category-header:hover {
            transform: translateX(6px);
            box-shadow: 0 4px 15px rgba(0, 104, 74, 0.2);
        }

        .accordion-icon {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.9rem;
            color: #00684A;
            z-index: 1;
            position: relative;
        }

        .accordion-icon.rotated {
            transform: rotate(180deg);
        }

        .nav-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-accordion-content.expanded {
            max-height: 400px;
        }

        .nav-accordion-content li {
            margin-bottom: 6px;
            margin-left: 20px;
            opacity: 0;
            transform: translateX(-20px);
            animation: slideInLeft 0.3s ease forwards;
        }

        .nav-accordion-content.expanded li:nth-child(1) { animation-delay: 0.1s; }
        .nav-accordion-content.expanded li:nth-child(2) { animation-delay: 0.2s; }
        .nav-accordion-content.expanded li:nth-child(3) { animation-delay: 0.3s; }
        .nav-accordion-content.expanded li:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .nav-accordion-content a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            text-decoration: none;
            color: #001E2B;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 3px solid transparent;
            font-weight: 500;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

        .nav-accordion-content a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-accordion-content a:hover::before,
        .nav-accordion-content a.active::before {
            opacity: 1;
        }

        .nav-accordion-content a:hover,
        .nav-accordion-content a.active {
            border-left: 3px solid #00ED64;
            transform: translateX(8px);
            color: #00684A;
            box-shadow: 0 4px 15px rgba(0, 237, 100, 0.2);
        }

        /* Menu Toggle Button */
        .menu-toggle {
            position: fixed;
            top: 25px;
            left: 25px;
            z-index: 1001;
            background: rgba(0, 104, 74, 0.95);
            border: none;
            color: white;
            padding: 14px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            box-shadow: 0 6px 20px rgba(0, 30, 43, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .menu-toggle:hover {
            background: #00ED64;
            color: #001E2B;
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 30px rgba(0, 237, 100, 0.4);
        }

        .menu-toggle.menu-open {
            background: #00ED64;
            color: #001E2B;
            transform: rotate(90deg);
        }

        /* Backdrop */
        .nav-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 30, 43, 0.8);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        /* Main Container */
        .presentation-container {
            padding-left: 100px;
            max-width: 1400px;
            margin: 0 auto;
            background: transparent;
            min-height: 100vh;
            position: relative;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            margin: 40px 40px 30px 40px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0, 30, 43, 0.15);
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease forwards;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #00ED64, #00B84D, #00684A);
            border-radius: 20px 20px 0 0;
        }

        .header h1 {
            color: #00684A;
            margin-bottom: 20px;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .header p {
            color: #001E2B;
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            line-height: 1.7;
            text-align: center;
            margin-bottom: 30px;
        }

        /* So What Section */
        .so-what-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            border: 1px solid rgba(0, 104, 74, 0.2);
            position: relative;
            z-index: 1;
        }

        .so-what-title {
            color: #00684A;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .so-what-text {
            color: #001E2B;
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 20px;
            font-weight: 400;
        }

        .real-impact-box {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 6px solid #00ED64;
            margin-top: 20px;
        }

        .real-impact-text {
            color: #001E2B;
            font-weight: 600;
            font-size: 1.05rem;
        }

        /* Demo Overview Section */
        .demo-overview-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            border: 1px solid rgba(0, 104, 74, 0.2);
            position: relative;
            z-index: 1;
        }

        .demo-toggle-header {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .demo-toggle-header:hover {
            transform: translateY(-2px);
        }

        .demo-toggle-title {
            color: #001E2B;
            margin: 0;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .demo-toggle-icon {
            color: #00684A;
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .demo-content {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid rgba(0, 237, 100, 0.2);
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .scenario-card {
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 30, 43, 0.1);
        }

        .mongo-scenario {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            border: 1px solid #00ED64;
        }

        .sql-scenario {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(211, 47, 47, 0.05) 100%);
            border: 1px solid #FF6B6B;
        }

        .scenario-title {
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .mongo-title {
            color: #00684A;
        }

        .sql-title {
            color: #D32F2F;
        }

        .scenario-list {
            color: #001E2B;
            line-height: 1.7;
            margin: 0;
            padding-left: 20px;
        }

        .scenario-list li {
            margin-bottom: 8px;
        }

        .scenario-list strong {
            color: #00684A;
        }

        .sql-scenario .scenario-list strong {
            color: #D32F2F;
        }

        .learning-points {
            background: linear-gradient(135deg, #f8fffe 0%, #f0fdfb 100%);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid rgba(0, 237, 100, 0.1);
        }

        .learning-title {
            color: #001E2B;
            margin-bottom: 20px;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .points-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .learning-point {
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 30, 43, 0.05);
            border-left: 3px solid #00ED64;
        }

        .point-title {
            color: #00684A;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .point-description {
            color: #001E2B;
            font-size: 0.95rem;
            opacity: 0.8;
        }

        /* Navigation */
        .navigation {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            margin: 0 40px;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: sticky;
            top: 20px;
            z-index: 500;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            color: #001E2B;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #00B84D 0%, #00684A 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-btn:hover::before {
            opacity: 1;
        }

        .nav-btn:hover {
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 237, 100, 0.4);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #00684A 0%, #001E2B 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 104, 74, 0.4);
        }

        .nav-btn span {
            position: relative;
            z-index: 1;
        }

        /* Content */
        .content {
            padding: 30px 40px 40px 40px;
        }

        .section {
            display: none;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 30, 43, 0.15);
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease forwards;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D, #00684A);
            border-radius: 20px 20px 0 0;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: #00684A;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Grid Layouts */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-card {
            background: linear-gradient(145deg, #f8fffe, #f0fdfb);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            transition: transform 0.3s ease;
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
            overflow: hidden;
        }

        .comparison-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.03) 0%, rgba(0, 184, 77, 0.01) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .comparison-card:hover::before {
            opacity: 1;
        }

        .comparison-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 30, 43, 0.2);
        }

        .mongodb-card {
            border-left: 5px solid #00ED64;
        }

        .postgres-card {
            border-left: 5px solid #00684A;
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            font-size: 1.5rem;
        }

        .mongodb-icon {
            background: linear-gradient(135deg, #00ED64, #00B84D);
        }

        .postgres-icon {
            background: linear-gradient(135deg, #00684A, #001E2B);
        }

        .card-header h3 {
            color: #00684A;
            font-size: 1.4rem;
            font-weight: 700;
        }

        /* Code Blocks */
        .code-block {
            background: #001E2B;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            position: relative;
            overflow-x: auto;
            border: 1px solid rgba(0, 104, 74, 0.2);
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.2);
        }

        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(0, 237, 100, 0.2);
            color: #00ED64;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Demo Container */
        .demo-container {
            background: linear-gradient(145deg, #00684A, #001E2B);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            color: white;
            box-shadow: 0 20px 40px rgba(0, 30, 43, 0.3);
            border: 1px solid rgba(0, 237, 100, 0.2);
            position: relative;
            overflow: hidden;
        }

        .demo-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
        }

        .demo-container h3 {
            color: #00ED64;
            margin-bottom: 15px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .demo-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .demo-btn {
            background: rgba(0, 237, 100, 0.2);
            color: white;
            border: 2px solid rgba(0, 237, 100, 0.4);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .demo-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 237, 100, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .demo-btn:hover::before {
            opacity: 1;
        }

        .demo-btn:hover {
            border-color: #00ED64;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 237, 100, 0.3);
        }

        .demo-btn span {
            position: relative;
            z-index: 1;
        }

        .demo-output {
            background: rgba(0, 30, 43, 0.8);
            border-radius: 12px;
            padding: 20px;
            min-height: 200px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            white-space: pre-wrap;
            overflow-y: auto;
            max-height: 400px;
            border: 1px solid rgba(0, 237, 100, 0.2);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.05) 0%, rgba(0, 184, 77, 0.02) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-card:hover {
            border-color: #00ED64;
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 30, 43, 0.2);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ED64, #00B84D);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(0, 237, 100, 0.3);
        }

        .feature-card h3,
        .feature-card h4 {
            color: #00684A;
            margin-bottom: 15px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .feature-card p,
        .feature-card ul {
            color: #001E2B;
            opacity: 0.8;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .feature-card ul {
            padding-left: 20px;
        }

        .feature-card li {
            margin-bottom: 8px;
        }

        /* Pros and Cons */
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .pros, .cons {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            position: relative;
            overflow: hidden;
        }

        .pros {
            border-left: 5px solid #00ED64;
        }

        .cons {
            border-left: 5px solid #00684A;
        }

        .pros h3 {
            color: #00B84D;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .cons h3 {
            color: #00684A;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .pros ul,
        .cons ul {
            padding-left: 20px;
            color: #001E2B;
            opacity: 0.8;
        }

        .pros li,
        .cons li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* Metric Container */
        .metric-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #00ED64, #00B84D);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 237, 100, 0.3);
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .metric-card:hover::before {
            opacity: 1;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .metric-card div:last-child {
            font-size: 1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        /* Tab Container */
        .tab-container {
            margin: 30px 0;
        }

        .tab-buttons {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(0, 104, 74, 0.1);
            border: none;
            padding: 15px 25px;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #00684A;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #00ED64, #00B84D);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tab-btn.active::before {
            opacity: 1;
        }

        .tab-btn.active {
            color: white;
            box-shadow: 0 8px 25px rgba(0, 237, 100, 0.3);
        }

        .tab-btn span {
            position: relative;
            z-index: 1;
        }

        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 0 15px 15px 15px;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            border: 1px solid rgba(0, 104, 74, 0.1);
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h4,
        .tab-content h5 {
            color: #00684A;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .tab-content h5 {
            font-size: 1.2rem;
            margin-top: 30px;
        }

        /* Highlight Box */
        .highlight {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 6px solid #00ED64;
            position: relative;
            overflow: hidden;
        }

        .highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .highlight:hover::before {
            opacity: 1;
        }

        .highlight h3 {
            color: #00684A;
            margin-bottom: 15px;
            font-weight: 700;
            font-size: 1.3rem;
            position: relative;
            z-index: 1;
        }

        .highlight p {
            color: #001E2B;
            opacity: 0.9;
            font-size: 1.1rem;
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }

        .highlight ol {
            color: #001E2B;
            opacity: 0.9;
            padding-left: 25px;
            position: relative;
            z-index: 1;
        }

        .highlight li {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 30, 43, 0.1);
            margin: 25px 0;
        }

        thead tr {
            background: linear-gradient(135deg, #00684A 0%, #001E2B 100%);
            color: white;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 104, 74, 0.1);
        }

        th {
            font-weight: 700;
            font-size: 1.1rem;
        }

        tbody tr:hover {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.05) 0%, rgba(0, 184, 77, 0.02) 100%);
        }

        /* Status Icons */
        .status-icon {
            font-size: 1.2rem;
            margin-right: 8px;
        }

        /* Logo Icons */
        .mongodb-logo-icon {
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M12 2C8.5 2 5.7 4.8 5.7 8.3c0 2.5 1.5 5.2 3.8 7.8c1.2 1.3 2.5 2.6 2.5 4.9v1h0v-1c0-2.3 1.3-3.6 2.5-4.9c2.3-2.6 3.8-5.3 3.8-7.8C18.3 4.8 15.5 2 12 2z"/></svg>') no-repeat center;
            background-size: contain;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }

        .postgresql-logo-icon {
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.6 0 3.1-.4 4.4-1.1-.2-.1-.4-.3-.6-.4-1 .5-2.1.8-3.3.8-4.1 0-7.5-3.4-7.5-7.5S7.9 6.3 12 6.3s7.5 3.4 7.5 7.5c0 1.2-.3 2.3-.8 3.3.1.2.3.4.4.6.7-1.3 1.1-2.8 1.1-4.4C22 6.5 17.5 2 12 2z"/></svg>') no-repeat center;
            background-size: contain;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .presentation-container {
                padding-left: 80px;
            }
            
            .header,
            .navigation,
            .content {
                margin: 30px 30px 20px 30px;
            }
            
            .comparison-grid,
            .pros-cons {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .scenario-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .points-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .presentation-container {
                padding-left: 70px;
            }
            
            .header,
            .navigation,
            .content {
                margin: 20px 20px 15px 20px;
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .section h2 {
                font-size: 2rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .metric-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .tab-buttons {
                flex-direction: column;
            }
            
            .demo-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 8px;
            }

            .so-what-section,
            .demo-overview-section {
                padding: 20px;
                margin: 20px 0;
            }

            .so-what-title {
                font-size: 1.3rem;
            }

            .demo-toggle-title {
                font-size: 1.2rem;
            }

            .scenario-grid,
            .points-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .scenario-card,
            .learning-point {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .presentation-container {
                padding-left: 60px;
            }
            
            .header,
            .navigation,
            .content {
                margin: 15px 15px 10px 15px;
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .section h2 {
                font-size: 1.6rem;
            }
            
            .metric-container {
                grid-template-columns: 1fr;
            }
            
            .menu-toggle {
                top: 20px;
                left: 20px;
                padding: 12px;
                font-size: 1.2rem;
            }
            
            .nav-menu {
                width: 280px;
                left: -280px;
            }

            .so-what-section,
            .demo-overview-section {
                padding: 15px;
                margin: 15px 0;
            }

            .so-what-title {
                font-size: 1.2rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .demo-toggle-title {
                font-size: 1.1rem;
            }

            .so-what-text {
                font-size: 1rem;
            }

            .real-impact-text {
                font-size: 1rem;
            }
        }

        /* Loading and Animation States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 237, 100, 0.3);
            border-radius: 50%;
            border-top-color: #00ED64;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus Styles */
        button:focus,
        a:focus {
            outline: 3px solid #00ED64;
            outline-offset: 2px;
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            .section,
            .comparison-card,
            .feature-card {
                border: 2px solid #000;
            }
        }

        /* Print Styles */
        @media print {
            .nav-menu,
            .menu-toggle,
            .nav-backdrop,
            .navigation {
                display: none;
            }
            
            .presentation-container {
                padding: 0;
                margin: 0;
                max-width: none;
            }
            
            .section {
                break-inside: avoid;
                page-break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            body {
                background: white;
                color: black;
            }
        }
    </style>
</head>
<body>
    <button class="menu-toggle" onclick="toggleMobileMenu()" id="menuToggle" aria-label="Toggle Navigation Menu">
        ☰
    </button>
    
    <div class="nav-backdrop" id="navBackdrop" onclick="closeMobileMenu()"></div>
    
    <nav class="nav-menu" id="navMenu" role="navigation">
        <h2>MongoDB vs SQL</h2>
        <ul>
            <li><a href="index.html">🏠 Home</a></li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('competition')" role="button" tabindex="0" aria-expanded="true">
                    <span>Competition</span>
                    <span class="accordion-icon rotated" id="competition-icon">▼</span>
                </div>
                <ul class="nav-accordion-content expanded" id="competition-content" role="region">
                    <li><a href="mongodb_vs_postgres_presentation.html">
                        <span class="mongodb-logo-icon" aria-hidden="true"></span>MongoDB vs PostgreSQL
                    </a></li>
                </ul>
            </li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('architecture')" role="button" tabindex="0" aria-expanded="true">
                    <span>Architecture & Performance</span>
                    <span class="accordion-icon rotated" id="architecture-icon">▼</span>
                </div>
                <ul class="nav-accordion-content expanded" id="architecture-content" role="region">
                    <li><a href="mongodb_replica_set_demo.html">🔄 High Availability</a></li>
                    <li><a href="horizontal_scaling_presentation.html">📈 Horizontal Scaling</a></li>
                </ul>
            </li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('development')" role="button" tabindex="0" aria-expanded="true">
                    <span>Application Development</span>
                    <span class="accordion-icon rotated" id="development-icon">▼</span>
                </div>
                <ul class="nav-accordion-content expanded" id="development-content" role="region">
                    <li><a href="orm_vs_natural_objects_presentation.html">🔧 ORM vs Natural Objects</a></li>  
                    <li><a href="schema_evolution_presentation.html">🚀 Schema Evolution</a></li>
                    <li><a href="arrays_embedded_docs_presentation.html">📊 Arrays & Embedded Docs</a></li>
                    <li><a href="aggregation_pipeline_presentation.html">⚡ Aggregation Pipeline</a></li>
                    <li><a href="mongodb_postgres_technical_presentation.html" class="active" aria-current="page">
                        🔄 Change Data Capture
                    </a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <div class="presentation-container">
        <header class="header">
            <h1>MongoDB vs PostgreSQL</h1>
            <p>Change Data Capture Deep Dive & Comparative Analysis</p>
            
            <!-- So What Section -->
            <div class="so-what-section">
                <h2 class="so-what-title">🚀 Why This Matters: Real-time Data = Competitive Advantage</h2>
                <p class="so-what-text">
                    Modern applications require real-time responsiveness, but traditional CDC solutions are complex to implement and maintain. PostgreSQL's CDC approaches often require external tools like Debezium, complex WAL configurations, or trigger-based solutions that impact performance. Teams spend <strong>weeks setting up</strong> reliable CDC infrastructure and months debugging edge cases.
                </p>
                <p class="so-what-text">
                    <strong>MongoDB's differentiator:</strong> Change Streams provide native, real-time change detection with zero external dependencies. What takes PostgreSQL teams weeks to implement with multiple moving parts becomes a 10-line MongoDB script with built-in fault tolerance and automatic scaling.
                </p>
                <div class="real-impact-box">
                    <div class="real-impact-text">
                        <strong>Real Impact:</strong> Teams reduce CDC implementation time from weeks to hours, eliminate operational overhead of external tools, and achieve sub-10ms change detection latency out of the box.
                    </div>
                </div>
            </div>

            <!-- Expandable Demo Overview -->
            <div class="demo-overview-section">
                <div class="demo-toggle-header" onclick="toggleDemoOverview()">
                    <h3 class="demo-toggle-title">📋 What This Demo Shows</h3>
                    <span id="demoToggle" class="demo-toggle-icon">▼</span>
                </div>
                
                <div id="demoOverview" style="display: none;" class="demo-content">
                    <div class="scenario-grid">
                        <div class="scenario-card mongo-scenario">
                            <h4 class="scenario-title mongo-title">🍃 MongoDB Change Streams</h4>
                            <ul class="scenario-list">
                                <li>Native real-time change detection built into the database</li>
                                <li>Single API for collections, databases, and entire clusters</li>
                                <li>Aggregation pipeline filtering for precise change targeting</li>
                                <li>Automatic resume tokens for fault tolerance</li>
                                <li><strong>Zero external dependencies or complex setup</strong></li>
                            </ul>
                        </div>
                        
                        <div class="scenario-card sql-scenario">
                            <h4 class="scenario-title sql-title">🗄️ PostgreSQL CDC Approaches</h4>
                            <ul class="scenario-list">
                                <li>Multiple competing approaches: triggers, logical replication, WAL</li>
                                <li>External tools required (Debezium, Maxwell, etc.)</li>
                                <li>Complex configuration and infrastructure setup</li>
                                <li>Manual fault tolerance and resume logic</li>
                                <li><strong>High operational overhead and maintenance burden</strong></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="learning-points">
                        <h4 class="learning-title">🎯 Key Learning Points</h4>
                        <div class="points-grid">
                            <div class="learning-point">
                                <div class="point-title">✅ Implementation Speed</div>
                                <div class="point-description">Minutes vs weeks for reliable CDC setup</div>
                            </div>
                            <div class="learning-point">
                                <div class="point-title">✅ Operational Simplicity</div>
                                <div class="point-description">Native features vs external tool management</div>
                            </div>
                            <div class="learning-point">
                                <div class="point-title">✅ Performance Impact</div>
                                <div class="point-description">Sub-10ms latency vs variable performance</div>
                            </div>
                            <div class="learning-point">
                                <div class="point-title">✅ Scalability</div>
                                <div class="point-description">Automatic scaling vs manual infrastructure</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <nav class="navigation">
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('overview')"><span>Overview</span></button>
                <button class="nav-btn" onclick="showSection('mongodb-deep')"><span>MongoDB Change Streams</span></button>
                <button class="nav-btn" onclick="showSection('postgres-deep')"><span>PostgreSQL CDC</span></button>
                <button class="nav-btn" onclick="showSection('comparison')"><span>Side-by-Side</span></button>
                <button class="nav-btn" onclick="showSection('demo')"><span>Interactive Demo</span></button>
                <button class="nav-btn" onclick="showSection('performance')"><span>Performance</span></button>
                <button class="nav-btn" onclick="showSection('recommendations')"><span>Recommendations</span></button>
            </div>
        </nav>

        <main class="content">
            <!-- Overview Section -->
            <section id="overview" class="section active">
                <h2>Change Data Capture (CDC) Overview</h2>
                
                <div class="highlight">
                    <h3>What is Change Data Capture?</h3>
                    <p>Change Data Capture (CDC) is a software design pattern that identifies and captures changes made to data in a database, then delivers those changes in real-time to downstream consumers like applications, data warehouses, or analytics systems.</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h3>Real-time Analytics</h3>
                        <p>Enable real-time business intelligence and analytics by streaming data changes as they occur.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🔄</div>
                        <h3>Data Synchronization</h3>
                        <p>Keep multiple systems in sync by propagating changes across different databases and applications.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📝</div>
                        <h3>Audit Trails</h3>
                        <p>Maintain comprehensive audit logs by capturing all data modifications with timestamps.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">⚡</div>
                        <h3>Event-Driven Architecture</h3>
                        <p>Build reactive systems that respond to data changes in real-time.</p>
                    </div>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card mongodb-card">
                        <div class="card-header">
                            <div class="card-icon mongodb-icon">M</div>
                            <h3>MongoDB Approach</h3>
                        </div>
                        <p><strong>Change Streams:</strong> Native, real-time change detection built into the database core. Leverages the oplog (operations log) to provide a unified API for watching changes across collections, databases, or entire clusters.</p>
                        <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                            <li>Built-in feature since MongoDB 3.6</li>
                            <li>Works with replica sets and sharded clusters</li>
                            <li>Aggregation pipeline integration</li>
                            <li>Resume tokens for fault tolerance</li>
                        </ul>
                    </div>
                    <div class="comparison-card postgres-card">
                        <div class="card-header">
                            <div class="card-icon postgres-icon">P</div>
                            <h3>PostgreSQL Approach</h3>
                        </div>
                        <p><strong>Multiple Methods:</strong> PostgreSQL offers several CDC approaches including logical replication, triggers, LISTEN/NOTIFY, and third-party solutions like Debezium that leverage Write-Ahead Logs (WAL).</p>
                        <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                            <li>Logical replication (PostgreSQL 10+)</li>
                            <li>Trigger-based solutions</li>
                            <li>LISTEN/NOTIFY for simple notifications</li>
                            <li>WAL-based tools (Debezium, etc.)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- MongoDB Deep Dive Section -->
            <section id="mongodb-deep" class="section">
                <h2>MongoDB Change Streams Deep Dive</h2>

                <div class="highlight">
                    <h3>🌟 Key Advantages of MongoDB Change Streams</h3>
                    <p>MongoDB's Change Streams provide a native, scalable, and developer-friendly approach to CDC that's deeply integrated with the database architecture.</p>
                </div>

                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" onclick="showTab('mongo-basic', this)"><span>Basic Usage</span></button>
                        <button class="tab-btn" onclick="showTab('mongo-advanced', this)"><span>Advanced Features</span></button>
                        <button class="tab-btn" onclick="showTab('mongo-clustering', this)"><span>Clustering</span></button>
                        <button class="tab-btn" onclick="showTab('mongo-filtering', this)"><span>Filtering</span></button>
                    </div>

                    <div id="mongo-basic" class="tab-content active">
                        <h4>Basic Change Stream Implementation</h4>
                        <div class="code-block" data-lang="JavaScript">
// Watch for changes on a collection
const changeStream = db.collection('users').watch();

changeStream.on('change', (change) => {
    console.log('Change detected:', change);
    
    switch(change.operationType) {
        case 'insert':
            console.log('New document:', change.fullDocument);
            break;
        case 'update':
            console.log('Updated fields:', change.updateDescription);
            break;
        case 'delete':
            console.log('Deleted document ID:', change.documentKey);
            break;
    }
});
                        </div>

                        <div class="code-block" data-lang="Python">
# Python implementation
import pymongo
from pymongo import MongoClient

client = MongoClient('mongodb://localhost:27017/')
db = client.myapp
collection = db.users

# Watch for changes
with collection.watch() as stream:
    for change in stream:
        operation = change['operationType']
        if operation == 'insert':
            print(f"New user: {change['fullDocument']}")
        elif operation == 'update':
            print(f"User updated: {change['updateDescription']}")
        elif operation == 'delete':
            print(f"User deleted: {change['documentKey']}")
                        </div>

                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">🔄</div>
                                <h4>Real-time Updates</h4>
                                <p>Changes are streamed in real-time as they occur, with minimal latency.</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">📋</div>
                                <h4>Operation Types</h4>
                                <p>Captures insert, update, delete, replace, and invalidate operations.</p>
                            </div>
                        </div>
                    </div>

                    <div id="mongo-advanced" class="tab-content">
                        <h4>Advanced Change Stream Features</h4>
                        
                        <h5>Resume Tokens & Fault Tolerance</h5>
                        <div class="code-block" data-lang="JavaScript">
// Resume from a specific point in time
let resumeToken = null;

const watchCollection = () => {
    const pipeline = [
        { $match: { 'fullDocument.status': 'active' } }
    ];
    
    const options = resumeToken ? { resumeAfter: resumeToken } : {};
    const changeStream = db.collection('users').watch(pipeline, options);
    
    changeStream.on('change', (change) => {
        resumeToken = change._id; // Store resume token
        handleChange(change);
    });
    
    changeStream.on('error', (error) => {
        console.error('Change stream error:', error);
        // Implement retry logic
        setTimeout(watchCollection, 5000);
    });
};
                        </div>

                        <h5>Full Document Lookup</h5>
                        <div class="code-block" data-lang="JavaScript">
// Get full document on updates
const changeStream = db.collection('products').watch([], {
    fullDocument: 'updateLookup'
});

changeStream.on('change', (change) => {
    if (change.operationType === 'update') {
        // change.fullDocument contains the complete updated document
        console.log('Updated product:', change.fullDocument);
    }
});
                        </div>

                        <div class="metric-container">
                            <div class="metric-card">
                                <div class="metric-value">99.9%</div>
                                <div>Availability</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">&lt;10ms</div>
                                <div>Latency</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">1M+</div>
                                <div>Ops/sec</div>
                            </div>
                        </div>
                    </div>

                    <div id="mongo-clustering" class="tab-content">
                        <h4>Cluster-wide Change Streams</h4>
                        
                        <div class="code-block" data-lang="JavaScript">
// Watch entire database
const dbChangeStream = db.watch();

// Watch entire cluster (MongoDB 4.0+)
const clusterChangeStream = client.watch();

// Watch multiple collections
const pipeline = [
    {
        $match: {
            $or: [
                { 'ns.coll': 'users' },
                { 'ns.coll': 'orders' },
                { 'ns.coll': 'products' }
            ]
        }
    }
];

const multiCollectionStream = db.watch(pipeline);
                        </div>

                        <h5>Sharded Cluster Support</h5>
                        <div class="highlight">
                            <p><strong>Native Sharding Support:</strong> Change streams work seamlessly across sharded clusters, automatically handling shard key distribution and routing. Each shard contributes its changes to a unified stream.</p>
                        </div>

                        <div class="code-block" data-lang="JavaScript">
// Sharded cluster change stream
const shardedChangeStream = mongos.watch([
    {
        $match: {
            'fullDocument.region': { $in: ['US', 'EU'] }
        }
    }
], {
    fullDocument: 'updateLookup'
});
                        </div>
                    </div>

                    <div id="mongo-filtering" class="tab-content">
                        <h4>Advanced Filtering with Aggregation Pipeline</h4>
                        
                        <div class="code-block" data-lang="JavaScript">
// Complex filtering pipeline
const pipeline = [
    // Match specific operations and conditions
    {
        $match: {
            $and: [
                { operationType: { $in: ['insert', 'update'] } },
                { 'fullDocument.priority': 'high' },
                { 'fullDocument.department': 'engineering' }
            ]
        }
    },
    // Project only needed fields
    {
        $project: {
            _id: 1,
            operationType: 1,
            'fullDocument.name': 1,
            'fullDocument.email': 1,
            'fullDocument.lastModified': 1
        }
    }
];

const filteredStream = db.collection('employees').watch(pipeline);
                        </div>

                        <h5>Time-based Filtering</h5>
                        <div class="code-block" data-lang="JavaScript">
// Filter changes from last hour
const oneHourAgo = new Date(Date.now() - 60 * 60 * 1000);

const timeFilteredStream = db.collection('analytics').watch([
    {
        $match: {
            'fullDocument.timestamp': { $gte: oneHourAgo },
            'fullDocument.eventType': 'user_action'
        }
    }
]);
                        </div>

                        <div class="pros-cons">
                            <div class="pros">
                                <h3>✅ MongoDB Change Streams Advantages</h3>
                                <ul>
                                    <li>Native database feature - no external tools needed</li>
                                    <li>Works across replica sets and sharded clusters</li>
                                    <li>Aggregation pipeline filtering capabilities</li>
                                    <li>Resume tokens for fault tolerance</li>
                                    <li>Low latency real-time streaming</li>
                                    <li>Automatic handling of cluster topology changes</li>
                                    <li>No impact on application performance</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h3>⚠️ Considerations</h3>
                                <ul>
                                    <li>Requires replica set (not available on standalone)</li>
                                    <li>Limited to MongoDB 3.6+ (full features in 4.0+)</li>
                                    <li>Resume window limited by oplog size</li>
                                    <li>Large result sets may impact performance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PostgreSQL Deep Dive Section -->
            <section id="postgres-deep" class="section">
                <h2>PostgreSQL Change Data Capture Methods</h2>

                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" onclick="showTab('pg-triggers', this)"><span>Triggers</span></button>
                        <button class="tab-btn" onclick="showTab('pg-logical', this)"><span>Logical Replication</span></button>
                        <button class="tab-btn" onclick="showTab('pg-notify', this)"><span>LISTEN/NOTIFY</span></button>
                        <button class="tab-btn" onclick="showTab('pg-wal', this)"><span>WAL-based Tools</span></button>
                    </div>

                    <div id="pg-triggers" class="tab-content active">
                        <h4>Trigger-based Change Detection</h4>
                        
                        <div class="code-block" data-lang="SQL">
-- Create audit table
CREATE TABLE user_audit (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    operation VARCHAR(10),
    old_data JSONB,
    new_data JSONB,
    changed_at TIMESTAMP DEFAULT NOW(),
    changed_by VARCHAR(100)
);

-- Create trigger function
CREATE OR REPLACE FUNCTION audit_user_changes()
RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'DELETE' THEN
        INSERT INTO user_audit (user_id, operation, old_data, changed_by)
        VALUES (OLD.id, 'DELETE', row_to_json(OLD)::jsonb, current_user);
        RETURN OLD;
    ELSIF TG_OP = 'UPDATE' THEN
        INSERT INTO user_audit (user_id, operation, old_data, new_data, changed_by)
        VALUES (OLD.id, 'UPDATE', row_to_json(OLD)::jsonb, 
                row_to_json(NEW)::jsonb, current_user);
        RETURN NEW;
    ELSIF TG_OP = 'INSERT' THEN
        INSERT INTO user_audit (user_id, operation, new_data, changed_by)
        VALUES (NEW.id, 'INSERT', row_to_json(NEW)::jsonb, current_user);
        RETURN NEW;
    END IF;
END;
$$ LANGUAGE plpgsql;

-- Create trigger
CREATE TRIGGER user_audit_trigger
    AFTER INSERT OR UPDATE OR DELETE ON users
    FOR EACH ROW EXECUTE FUNCTION audit_user_changes();
                        </div>

                        <div class="pros-cons">
                            <div class="pros">
                                <h3>✅ Trigger Advantages</h3>
                                <ul>
                                    <li>Simple to implement and understand</li>
                                    <li>Automatic execution on data changes</li>
                                    <li>Can capture detailed change information</li>
                                    <li>Works with any PostgreSQL version</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h3>⚠️ Trigger Limitations</h3>
                                <ul>
                                    <li>Performance overhead on writes</li>
                                    <li>Synchronous execution blocks transactions</li>
                                    <li>Difficult to scale</li>
                                    <li>Manual setup for each table</li>
                                    <li>Can cause cascading trigger issues</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="pg-logical" class="tab-content">
                        <h4>Logical Replication (PostgreSQL 10+)</h4>
                        
                        <div class="code-block" data-lang="SQL">
-- Enable logical replication
-- In postgresql.conf:
-- wal_level = logical
-- max_replication_slots = 4
-- max_wal_senders = 4

-- Create publication
CREATE PUBLICATION user_changes FOR TABLE users;

-- Create replication slot
SELECT pg_create_logical_replication_slot('user_slot', 'pgoutput');

-- Subscribe to changes (on subscriber)
CREATE SUBSCRIPTION user_subscription
    CONNECTION 'host=publisher_host dbname=mydb user=repuser'
    PUBLICATION user_changes;
                        </div>

                        <div class="code-block" data-lang="Python">
# Python consumer using psycopg2
import psycopg2
import json

def consume_logical_changes():
    conn = psycopg2.connect(
        host='localhost',
        database='mydb',
        user='repuser'
    )
    
    cur = conn.cursor()
    
    # Start logical replication
    cur.start_replication_expert(
        slot_name='user_slot',
        decode=True,
        options={'publication_names': 'user_changes'}
    )
    
    def process_msg(msg):
        print(f"Change: {msg.payload}")
        msg.cursor.send_feedback(flush_lsn=msg.data_start)
    
    cur.consume_stream(process_msg)
                        </div>

                        <div class="pros-cons">
                            <div class="pros">
                                <h3>✅ Logical Replication Advantages</h3>
                                <ul>
                                    <li>Native PostgreSQL feature</li>
                                    <li>Asynchronous processing</li>
                                    <li>Row-level filtering possible</li>
                                    <li>Good performance characteristics</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h3>⚠️ Limitations</h3>
                                <ul>
                                    <li>Requires PostgreSQL 10+</li>
                                    <li>Complex setup and configuration</li>
                                    <li>Limited to table-level granularity</li>
                                    <li>Requires careful slot management</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="pg-notify" class="tab-content">
                        <h4>LISTEN/NOTIFY for Simple Change Notifications</h4>
                        
                        <div class="code-block" data-lang="SQL">
-- Create notification function
CREATE OR REPLACE FUNCTION notify_user_change()
RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify(
        'user_changes',
        json_build_object(
            'operation', TG_OP,
            'table', TG_TABLE_NAME,
            'data', CASE 
                WHEN TG_OP = 'DELETE' THEN row_to_json(OLD)
                ELSE row_to_json(NEW)
            END
        )::text
    );
    RETURN COALESCE(NEW, OLD);
END;
$$ LANGUAGE plpgsql;

-- Create trigger
CREATE TRIGGER user_notify_trigger
    AFTER INSERT OR UPDATE OR DELETE ON users
    FOR EACH ROW EXECUTE FUNCTION notify_user_change();
                        </div>

                        <div class="code-block" data-lang="JavaScript">
// Node.js listener
const { Client } = require('pg');

const client = new Client({
    connectionString: 'postgresql://user:pass@localhost/mydb'
});

client.connect();

client.query('LISTEN user_changes');

client.on('notification', (msg) => {
    const change = JSON.parse(msg.payload);
    console.log('User change:', change);
    
    // Process the change
    handleUserChange(change);
});
                        </div>

                        <div class="pros-cons">
                            <div class="pros">
                                <h3>✅ LISTEN/NOTIFY Advantages</h3>
                                <ul>
                                    <li>Very lightweight</li>
                                    <li>Real-time notifications</li>
                                    <li>Simple to implement</li>
                                    <li>Low overhead</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h3>⚠️ Limitations</h3>
                                <ul>
                                    <li>Limited payload size (8KB)</li>
                                    <li>No persistence - lost on disconnect</li>
                                    <li>No guaranteed delivery</li>
                                    <li>Single database only</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="pg-wal" class="tab-content">
                        <h4>WAL-based Tools (Debezium, etc.)</h4>
                        
                        <div class="code-block" data-lang="YAML">
# Debezium PostgreSQL connector configuration
name: postgres-connector
config:
  connector.class: io.debezium.connector.postgresql.PostgresConnector
  database.hostname: localhost
  database.port: 5432
  database.user: debezium
  database.password: dbz
  database.dbname: mydb
  database.server.name: postgres-server
  
  # WAL configuration
  plugin.name: pgoutput
  slot.name: debezium
  publication.name: dbz_publication
  
  # Table whitelist
  table.include.list: public.users,public.orders
  
  # Output configuration
  transforms: route
  transforms.route.type: org.apache.kafka.connect.transforms.RegexRouter
  transforms.route.regex: ([^.]+)\\.([^.]+)\\.([^.]+)
  transforms.route.replacement: $3
                        </div>

                        <div class="code-block" data-lang="SQL">
-- Setup for Debezium
-- Create publication for Debezium
CREATE PUBLICATION dbz_publication FOR ALL TABLES;

-- Create replication slot
SELECT pg_create_logical_replication_slot('debezium', 'pgoutput');

-- Grant permissions
GRANT SELECT ON ALL TABLES IN SCHEMA public TO debezium;
GRANT USAGE ON SCHEMA public TO debezium;
                        </div>

                        <div class="metric-container">
                            <div class="metric-card">
                                <div class="metric-value">100K+</div>
                                <div>Events/sec</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">99.9%</div>
                                <div>Delivery Guarantee</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">&lt;100ms</div>
                                <div>End-to-end Latency</div>
                            </div>
                        </div>

                        <div class="pros-cons">
                            <div class="pros">
                                <h3>✅ WAL-based Advantages</h3>
                                <ul>
                                    <li>High throughput and scalability</li>
                                    <li>Exactly-once delivery guarantees</li>
                                    <li>Schema evolution support</li>
                                    <li>Integration with Kafka ecosystem</li>
                                    <li>No application code changes needed</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h3>⚠️ Limitations</h3>
                                <ul>
                                    <li>Complex setup and configuration</li>
                                    <li>Requires additional infrastructure</li>
                                    <li>External dependency management</li>
                                    <li>Learning curve for operations</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Side-by-Side Comparison -->
            <section id="comparison" class="section">
                <h2>Detailed Comparison: MongoDB vs PostgreSQL CDC</h2>

                <div class="comparison-grid">
                    <div class="comparison-card mongodb-card">
                        <div class="card-header">
                            <div class="card-icon mongodb-icon">M</div>
                            <h3>MongoDB Change Streams</h3>
                        </div>
                        
                        <h4>Architecture</h4>
                        <ul>
                            <li>Built into database core</li>
                            <li>Uses oplog (operations log)</li>
                            <li>Native aggregation pipeline</li>
                            <li>Distributed across shards</li>
                        </ul>

                        <h4>Scalability</h4>
                        <ul>
                            <li>Horizontal scaling with sharding</li>
                            <li>Cluster-wide change streams</li>
                            <li>Automatic shard management</li>
                            <li>High throughput (1M+ ops/sec)</li>
                        </ul>

                        <h4>Developer Experience</h4>
                        <ul>
                            <li>Single API for all change types</li>
                            <li>Rich filtering with aggregation</li>
                            <li>Resume tokens for fault tolerance</li>
                            <li>Multiple language drivers</li>
                        </ul>
                    </div>

                    <div class="comparison-card postgres-card">
                        <div class="card-header">
                            <div class="card-icon postgres-icon">P</div>
                            <h3>PostgreSQL CDC Options</h3>
                        </div>
                        
                        <h4>Architecture</h4>
                        <ul>
                            <li>Multiple approaches available</li>
                            <li>WAL-based or trigger-based</li>
                            <li>External tools often required</li>
                            <li>Master-slave replication model</li>
                        </ul>

                        <h4>Scalability</h4>
                        <ul>
                            <li>Vertical scaling primarily</li>
                            <li>Read replicas for scaling reads</li>
                            <li>Sharding requires external tools</li>
                            <li>High throughput with tuning</li>
                        </ul>

                        <h4>Developer Experience</h4>
                        <ul>
                            <li>Different APIs for different methods</li>
                            <li>SQL-based filtering</li>
                            <li>Manual fault tolerance setup</li>
                            <li>Mature ecosystem</li>
                        </ul>
                    </div>
                </div>

                <h3>Feature Comparison Matrix</h3>
                <div style="overflow-x: auto; margin: 2rem 0;">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>MongoDB Change Streams</th>
                                <th>PostgreSQL (Best Option)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Real-time Streaming</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Native</td>
                                <td style="text-align: center; color: #00684A;"><span class="status-icon">⚠️</span> With tools</td>
                            </tr>
                            <tr>
                                <td><strong>Fault Tolerance</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Resume tokens</td>
                                <td style="text-align: center; color: #00684A;"><span class="status-icon">⚠️</span> Manual setup</td>
                            </tr>
                            <tr>
                                <td><strong>Filtering Capabilities</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Aggregation pipeline</td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> SQL WHERE clauses</td>
                            </tr>
                            <tr>
                                <td><strong>Horizontal Scaling</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Native sharding</td>
                                <td style="text-align: center; color: #001E2B;"><span class="status-icon">❌</span> External solutions</td>
                            </tr>
                            <tr>
                                <td><strong>Setup Complexity</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Simple</td>
                                <td style="text-align: center; color: #001E2B;"><span class="status-icon">❌</span> Complex</td>
                            </tr>
                            <tr>
                                <td><strong>Performance Impact</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Minimal</td>
                                <td style="text-align: center; color: #00684A;"><span class="status-icon">⚠️</span> Varies by method</td>
                            </tr>
                            <tr>
                                <td><strong>Multi-database Support</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Cluster-wide</td>
                                <td style="text-align: center; color: #001E2B;"><span class="status-icon">❌</span> Single database</td>
                            </tr>
                            <tr>
                                <td><strong>Operational Overhead</strong></td>
                                <td style="text-align: center; color: #00B84D;"><span class="status-icon">✅</span> Low</td>
                                <td style="text-align: center; color: #001E2B;"><span class="status-icon">❌</span> High</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Interactive Demo Section -->
            <section id="demo" class="section">
                <h2>Interactive Change Data Capture Demo</h2>
                
                <div class="demo-container">
                    <h3>🚀 MongoDB Change Streams Simulator</h3>
                    <p>Experience how MongoDB Change Streams work in real-time. Click the buttons below to simulate different database operations.</p>
                    
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="simulateInsert()"><span>Insert Document</span></button>
                        <button class="demo-btn" onclick="simulateUpdate()"><span>Update Document</span></button>
                        <button class="demo-btn" onclick="simulateDelete()"><span>Delete Document</span></button>
                        <button class="demo-btn" onclick="startStream()"><span>Start Change Stream</span></button>
                        <button class="demo-btn" onclick="stopStream()"><span>Stop Stream</span></button>
                        <button class="demo-btn" onclick="clearDemo()"><span>Clear Output</span></button>
                    </div>
                    
                    <div id="demo-output" class="demo-output">Change stream output will appear here...\n\nClick "Start Change Stream" to begin monitoring changes.</div>
                </div>

                <div class="demo-container">
                    <h3>⚡ Performance Comparison</h3>
                    <p>See how different CDC approaches compare in terms of latency and throughput.</p>
                    
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="runPerformanceTest('mongodb')"><span>Test MongoDB Change Streams</span></button>
                        <button class="demo-btn" onclick="runPerformanceTest('postgres-triggers')"><span>Test PostgreSQL Triggers</span></button>
                        <button class="demo-btn" onclick="runPerformanceTest('postgres-logical')"><span>Test PostgreSQL Logical Replication</span></button>
                        <button class="demo-btn" onclick="clearPerformance()"><span>Clear Results</span></button>
                    </div>
                    
                    <div id="performance-output" class="demo-output">Performance test results will appear here...\n\nClick a test button to simulate performance metrics.</div>
                </div>

                <div class="highlight">
                    <h3>🔍 What This Demo Shows</h3>
                    <p>This interactive demo simulates the real-world behavior of change data capture systems. In production:</p>
                    <ul style="margin-top: 1rem; padding-left: 2rem;">
                        <li><strong>MongoDB Change Streams</strong> provide sub-10ms latency for most operations</li>
                        <li><strong>Resume tokens</strong> allow applications to recover from exactly where they left off</li>
                        <li><strong>Aggregation pipeline filtering</strong> reduces network traffic and processing overhead</li>
                        <li><strong>Cluster-wide streams</strong> automatically handle sharding and replica set changes</li>
                    </ul>
                </div>
            </section>

            <!-- Performance Section -->
            <section id="performance" class="section">
                <h2>Performance Analysis & Benchmarks</h2>

                <div class="metric-container">
                    <div class="metric-card">
                        <div class="metric-value">2.5ms</div>
                        <div>MongoDB Change Stream Latency</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">1.2M</div>
                        <div>Operations/second</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">99.99%</div>
                        <div>Uptime</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">5GB</div>
                        <div>Max Throughput/hour</div>
                    </div>
                </div>

                <h3>Latency Comparison</h3>
                <div class="comparison-grid">
                    <div class="comparison-card mongodb-card">
                        <h4>MongoDB Change Streams</h4>
                        <ul>
                            <li><strong>Insert latency:</strong> 1-3ms</li>
                            <li><strong>Update latency:</strong> 2-5ms</li>
                            <li><strong>Delete latency:</strong> 1-2ms</li>
                            <li><strong>Network overhead:</strong> Minimal</li>
                            <li><strong>CPU impact:</strong> &lt;5%</li>
                        </ul>
                    </div>
                    <div class="comparison-card postgres-card">
                        <h4>PostgreSQL Methods</h4>
                        <ul>
                            <li><strong>Triggers:</strong> 10-50ms (synchronous)</li>
                            <li><strong>Logical replication:</strong> 5-20ms</li>
                            <li><strong>LISTEN/NOTIFY:</strong> 1-5ms</li>
                            <li><strong>WAL-based tools:</strong> 10-100ms</li>
                            <li><strong>CPU impact:</strong> 10-30%</li>
                        </ul>
                    </div>
                </div>

                <h3>Scaling Characteristics</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📈</div>
                        <h4>Throughput Scaling</h4>
                        <p><strong>MongoDB:</strong> Linear scaling with sharding. Each shard can handle 100K+ ops/sec independently.</p>
                        <p><strong>PostgreSQL:</strong> Vertical scaling primarily. Triggers can become bottleneck at high write volumes.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🔄</div>
                        <h4>Connection Scaling</h4>
                        <p><strong>MongoDB:</strong> Thousands of concurrent change streams with minimal overhead.</p>
                        <p><strong>PostgreSQL:</strong> Limited by connection pool and replication slot management.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">⚡</div>
                        <h4>Memory Usage</h4>
                        <p><strong>MongoDB:</strong> Constant memory usage regardless of change volume.</p>
                        <p><strong>PostgreSQL:</strong> Memory usage varies significantly by CDC method chosen.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🛡️</div>
                        <h4>Reliability</h4>
                        <p><strong>MongoDB:</strong> Built-in resume capabilities, automatic failover handling.</p>
                        <p><strong>PostgreSQL:</strong> Reliability depends on external tooling and configuration.</p>
                    </div>
                </div>

                <div class="highlight">
                    <h3>🎯 Performance Summary</h3>
                    <p>MongoDB Change Streams consistently deliver superior performance characteristics due to their native integration with the database engine. The oplog-based approach provides predictable latency and scales horizontally without additional complexity.</p>
                </div>
            </section>

            <!-- Recommendations Section -->
            <section id="recommendations" class="section">
                <h2>Recommendations & Best Practices</h2>

                <div class="highlight">
                    <h3>🏆 When to Choose MongoDB Change Streams</h3>
                    <p>MongoDB Change Streams are the optimal choice for modern applications requiring real-time data synchronization, event-driven architectures, and scalable change data capture.</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">🚀</div>
                        <h4>Ideal Use Cases</h4>
                        <ul>
                            <li>Real-time analytics dashboards</li>
                            <li>Event-driven microservices</li>
                            <li>Data synchronization across systems</li>
                            <li>Audit logging and compliance</li>
                            <li>Cache invalidation strategies</li>
                            <li>Live collaborative applications</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">⚙️</div>
                        <h4>Implementation Best Practices</h4>
                        <ul>
                            <li>Use aggregation pipelines for filtering</li>
                            <li>Implement proper error handling</li>
                            <li>Store resume tokens for fault tolerance</li>
                            <li>Monitor oplog size and retention</li>
                            <li>Use appropriate batch sizes</li>
                            <li>Test failover scenarios</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h4>Monitoring & Operations</h4>
                        <ul>
                            <li>Track change stream lag metrics</li>
                            <li>Monitor memory and CPU usage</li>
                            <li>Set up alerting for stream failures</li>
                            <li>Regular resume token cleanup</li>
                            <li>Capacity planning for growth</li>
                            <li>Performance baseline establishment</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🔧</div>
                        <h4>Advanced Configurations</h4>
                        <ul>
                            <li>Custom aggregation stages</li>
                            <li>Multi-collection watching</li>
                            <li>Cluster-wide change detection</li>
                            <li>Time-based filtering</li>
                            <li>Full document lookup optimization</li>
                            <li>Shard key considerations</li>
                        </ul>
                    </div>
                </div>

                <h3>Architecture Decision Framework</h3>
                <div class="comparison-grid">
                    <div class="comparison-card mongodb-card">
                        <h4>Choose MongoDB When:</h4>
                        <ul>
                            <li>Building new applications</li>
                            <li>Requiring horizontal scalability</li>
                            <li>Need sub-10ms change latency</li>
                            <li>Want minimal operational overhead</li>
                            <li>Implementing event-driven architecture</li>
                            <li>Working with document/JSON data</li>
                            <li>Need cluster-wide change detection</li>
                        </ul>
                    </div>
                    <div class="comparison-card postgres-card">
                        <h4>Consider PostgreSQL When:</h4>
                        <ul>
                            <li>Existing PostgreSQL infrastructure</li>
                            <li>Strong ACID requirements</li>
                            <li>Complex relational queries needed</li>
                            <li>Team expertise in SQL/PostgreSQL</li>
                            <li>Regulatory compliance requirements</li>
                            <li>Budget constraints (open source)</li>
                            <li>Simple change detection needs</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight" style="background: linear-gradient(135deg, rgba(0, 237, 100, 0.15) 0%, rgba(0, 184, 77, 0.1) 100%);">
                    <h3>🎯 Key Takeaways</h3>
                    <ol style="margin-top: 1rem; padding-left: 2rem;">
                        <li><strong>MongoDB Change Streams</strong> provide the most comprehensive, scalable, and developer-friendly CDC solution available today</li>
                        <li><strong>Native integration</strong> eliminates the complexity and operational overhead of external CDC tools</li>
                        <li><strong>Real-time performance</strong> with sub-10ms latency makes MongoDB ideal for modern reactive applications</li>
                        <li><strong>Horizontal scaling</strong> with sharding ensures the solution grows with your business needs</li>
                        <li><strong>Resume tokens</strong> and fault tolerance features provide enterprise-grade reliability</li>
                    </ol>
                </div>

                <div class="code-block" data-lang="JavaScript">
// Production-ready Change Stream implementation
const mongoose = require('mongoose');

class ChangeStreamManager {
    constructor(uri, options = {}) {
        this.uri = uri;
        this.options = {
            resumeAfter: null,
            fullDocument: 'updateLookup',
            maxAwaitTimeMS: 1000,
            ...options
        };
        this.changeStream = null;
        this.isConnected = false;
    }

    async connect() {
        try {
            await mongoose.connect(this.uri);
            this.isConnected = true;
            console.log('Connected to MongoDB');
        } catch (error) {
            console.error('Connection failed:', error);
            throw error;
        }
    }

    startWatching(collection, pipeline = [], handler) {
        if (!this.isConnected) {
            throw new Error('Not connected to database');
        }

        const options = { ...this.options };
        
        this.changeStream = mongoose.connection.db
            .collection(collection)
            .watch(pipeline, options);

        this.changeStream.on('change', (change) => {
            // Store resume token for fault tolerance
            this.options.resumeAfter = change._id;
            
            // Handle the change
            handler(change);
        });

        this.changeStream.on('error', (error) => {
            console.error('Change stream error:', error);
            // Implement retry logic
            setTimeout(() => {
                this.startWatching(collection, pipeline, handler);
            }, 5000);
        });
    }

    stop() {
        if (this.changeStream) {
            this.changeStream.close();
            this.changeStream = null;
        }
    }
}

// Usage example
const manager = new ChangeStreamManager('mongodb://localhost:27017/myapp');

await manager.connect();

manager.startWatching('users', [
    { $match: { 'fullDocument.active': true } }
], (change) => {
    console.log('User change detected:', change.operationType);
    // Implement your business logic here
});
                </div>
            </section>
        </main>
    </div>

    <script>
        let isStreamActive = false;
        let streamInterval = null;
        let changeCounter = 0;

        // Navigation Functions (from index.html)
        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const backdrop = document.getElementById('navBackdrop');
            const toggleBtn = document.getElementById('menuToggle');
            
            navMenu.classList.toggle('open');
            backdrop.classList.toggle('active');
            toggleBtn.classList.toggle('menu-open');
            
            const isOpen = navMenu.classList.contains('open');
            toggleBtn.setAttribute('aria-expanded', isOpen);
        }

        function closeMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const backdrop = document.getElementById('navBackdrop');
            const toggleBtn = document.getElementById('menuToggle');
            
            navMenu.classList.remove('open');
            backdrop.classList.remove('active');
            toggleBtn.classList.remove('menu-open');
            
            toggleBtn.setAttribute('aria-expanded', 'false');
        }

        // Accordion Functions
        function toggleAccordion(categoryId) {
            const content = document.getElementById(categoryId + '-content');
            const icon = document.getElementById(categoryId + '-icon');
            const header = content.previousElementSibling;
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('rotated');
                header.setAttribute('aria-expanded', 'false');
            } else {
                content.classList.add('expanded');
                icon.classList.add('rotated');
                header.setAttribute('aria-expanded', 'true');
            }
        }

        // Section Navigation Functions
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Tab Functions
        function showTab(tabId, buttonElement) {
            // Hide all tab contents in the same container
            const container = buttonElement.closest('.tab-container');
            container.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons in the same container
            container.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked button
            buttonElement.classList.add('active');
        }

        // Demo Functions
        function simulateInsert() {
            if (!isStreamActive) {
                appendToDemo('❌ Please start the change stream first!\n');
                return;
            }
            
            changeCounter++;
            const change = {
                _id: { timestamp: new Date().getTime(), counter: changeCounter },
                operationType: 'insert',
                fullDocument: {
                    _id: `user_${changeCounter}`,
                    name: `User ${changeCounter}`,
                    email: `user${changeCounter}@example.com`,
                    active: true,
                    createdAt: new Date().toISOString()
                },
                ns: { db: 'myapp', coll: 'users' },
                clusterTime: new Date().toISOString()
            };
            
            appendToDemo(`🟢 INSERT detected:\n${JSON.stringify(change, null, 2)}\n\n`);
        }

        function simulateUpdate() {
            if (!isStreamActive) {
                appendToDemo('❌ Please start the change stream first!\n');
                return;
            }
            
            changeCounter++;
            const change = {
                _id: { timestamp: new Date().getTime(), counter: changeCounter },
                operationType: 'update',
                documentKey: { _id: `user_${Math.floor(Math.random() * 10) + 1}` },
                updateDescription: {
                    updatedFields: {
                        lastLoginAt: new Date().toISOString(),
                        'profile.lastActivity': new Date().toISOString()
                    },
                    removedFields: []
                },
                fullDocument: {
                    _id: `user_${Math.floor(Math.random() * 10) + 1}`,
                    name: 'Updated User',
                    email: 'updated@example.com',
                    active: true,
                    lastLoginAt: new Date().toISOString()
                },
                ns: { db: 'myapp', coll: 'users' },
                clusterTime: new Date().toISOString()
            };
            
            appendToDemo(`🟡 UPDATE detected:\n${JSON.stringify(change, null, 2)}\n\n`);
        }

        function simulateDelete() {
            if (!isStreamActive) {
                appendToDemo('❌ Please start the change stream first!\n');
                return;
            }
            
            changeCounter++;
            const change = {
                _id: { timestamp: new Date().getTime(), counter: changeCounter },
                operationType: 'delete',
                documentKey: { _id: `user_${Math.floor(Math.random() * 10) + 1}` },
                ns: { db: 'myapp', coll: 'users' },
                clusterTime: new Date().toISOString()
            };
            
            appendToDemo(`🔴 DELETE detected:\n${JSON.stringify(change, null, 2)}\n\n`);
        }

        function startStream() {
            if (isStreamActive) {
                appendToDemo('⚠️ Change stream is already active!\n');
                return;
            }
            
            isStreamActive = true;
            appendToDemo('🚀 MongoDB Change Stream started...\n');
            appendToDemo('📡 Watching for changes on "users" collection\n');
            appendToDemo('🔍 Pipeline: [{ $match: { "fullDocument.active": true } }]\n');
            appendToDemo('✅ Ready to capture changes!\n\n');
            
            // Simulate periodic heartbeat
            streamInterval = setInterval(() => {
                appendToDemo(`💓 Heartbeat - ${new Date().toLocaleTimeString()}\n`);
            }, 10000);
        }

        function stopStream() {
            if (!isStreamActive) {
                appendToDemo('⚠️ No active change stream to stop!\n');
                return;
            }
            
            isStreamActive = false;
            if (streamInterval) {
                clearInterval(streamInterval);
                streamInterval = null;
            }
            
            appendToDemo('🛑 Change stream stopped.\n');
            appendToDemo('💾 Resume token saved for future recovery.\n\n');
        }

        function clearDemo() {
            document.getElementById('demo-output').textContent = 'Change stream output will appear here...\n\nClick "Start Change Stream" to begin monitoring changes.';
        }

        function appendToDemo(text) {
            const output = document.getElementById('demo-output');
            output.textContent += text;
            output.scrollTop = output.scrollHeight;
        }

        // Performance Test Functions
        function runPerformanceTest(system) {
            const output = document.getElementById('performance-output');
            
            appendToPerformance(`🧪 Running performance test for ${system}...\n`);
            
            // Simulate loading
            appendToPerformance('⏳ Initializing test environment...\n');
            
            setTimeout(() => {
                let results = '';
                
                switch(system) {
                    case 'mongodb':
                        results = `
📊 MongoDB Change Streams Results:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ Latency (avg):        2.3ms
✅ Latency (p99):        4.1ms
✅ Throughput:          1.2M ops/sec
✅ Memory overhead:     < 50MB
✅ CPU overhead:        < 3%
✅ Fault recovery:      < 100ms
✅ Setup time:          30 seconds
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🏆 EXCELLENT performance across all metrics!
`;
                        break;
                    case 'postgres-triggers':
                        results = `
📊 PostgreSQL Triggers Results:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  Latency (avg):        25ms
⚠️  Latency (p99):        150ms
⚠️  Throughput:          50K ops/sec
❌ Memory overhead:     200MB+
❌ CPU overhead:        25%
❌ Fault recovery:      Manual
✅ Setup time:          2 hours
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  Synchronous execution impacts performance
`;
                        break;
                    case 'postgres-logical':
                        results = `
📊 PostgreSQL Logical Replication Results:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  Latency (avg):        15ms
⚠️  Latency (p99):        45ms
✅ Throughput:          200K ops/sec
⚠️  Memory overhead:     150MB
⚠️  CPU overhead:        15%
❌ Fault recovery:      Complex
❌ Setup time:          4 hours
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  Good performance but complex operations
`;
                        break;
                }
                
                appendToPerformance(results + '\n');
            }, 2000);
        }

        function clearPerformance() {
            document.getElementById('performance-output').textContent = 'Performance test results will appear here...\n\nClick a test button to simulate performance metrics.';
        }

        function appendToPerformance(text) {
            const output = document.getElementById('performance-output');
            output.textContent += text;
            output.scrollTop = output.scrollHeight;
        }

        // Keyboard navigation support
        function initializeKeyboardNavigation() {
            document.addEventListener('keydown', (e) => {
                // Alt + M to toggle menu
                if (e.altKey && e.key === 'm') {
                    e.preventDefault();
                    toggleMobileMenu();
                }
                
                // Escape to close menu
                if (e.key === 'Escape') {
                    closeMobileMenu();
                }
                
                // Enter and Space for accordion headers
                if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('nav-category-header')) {
                    e.preventDefault();
                    const categoryId = e.target.onclick.toString().match(/'([^']+)'/)[1];
                    toggleAccordion(categoryId);
                }
            });
        }

        // Handle outside clicks
        function initializeOutsideClickHandler() {
            document.addEventListener('click', (e) => {
                const navMenu = document.getElementById('navMenu');
                const menuToggle = document.getElementById('menuToggle');
                
                // Close menu if clicking outside
                if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                    closeMobileMenu();
                }
            });
        }

        // Handle window resize
        function handleResize() {
            if (window.innerWidth > 1024) {
                closeMobileMenu();
            }
        }

        // Navigation link click handler for mobile
        function initializeNavLinkHandlers() {
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 1024) {
                        setTimeout(() => {
                            closeMobileMenu();
                        }, 100);
                    }
                });
            });
        }

        // Performance optimization - debounce resize events
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Demo Overview Toggle
        function toggleDemoOverview() {
            const overview = document.getElementById('demoOverview');
            const toggle = document.getElementById('demoToggle');
            
            if (overview.style.display === 'none') {
                overview.style.display = 'block';
                toggle.textContent = '▲';
                toggle.style.transform = 'rotate(180deg)';
            } else {
                overview.style.display = 'none';
                toggle.textContent = '▼';
                toggle.style.transform = 'rotate(0deg)';
            }
        }

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            initializeKeyboardNavigation();
            initializeOutsideClickHandler();
            initializeNavLinkHandlers();
            
            // Add debounced resize handler
            window.addEventListener('resize', debounce(handleResize, 150));
            
            console.log('MongoDB vs PostgreSQL CDC Presentation - Loaded Successfully');
            console.log('Use Alt+M to toggle menu, ESC to close menu');
        });

        // Handle page visibility for performance
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // Pause animations when page is not visible
                document.querySelectorAll('.section').forEach(section => {
                    section.style.animationPlayState = 'paused';
                });
            } else {
                // Resume animations when page becomes visible
                document.querySelectorAll('.section').forEach(section => {
                    section.style.animationPlayState = 'running';
                });
            }
        });

        // Error handling for navigation
        window.addEventListener('error', function(e) {
            console.warn('Navigation error:', e.error);
            // Ensure menu can still be closed if there's an error
            if (document.getElementById('navMenu').classList.contains('open')) {
                closeMobileMenu();
            }
        });
    </script>
</body>
</html>