<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB Architecture Patterns - Overview</title>
    <link rel="stylesheet" href="shared-theme.css">
    <style>
        body {
            overflow-x: hidden;
            min-height: 100vh;
        }

        .presentation-container {
            min-height: auto;
            display: block;
        }

        .slide {
            display: none;
            padding: var(--space-lg);
            position: relative;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        .slide-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-xl);
            align-items: start;
            min-height: calc(100vh - 200px);
        }

        .text-content {
            background: var(--surface);
            padding: var(--space-xl);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--secondary-color);
            color: var(--text-primary);
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px var(--shadow-md);
            margin-bottom: var(--space-xl);
        }

        /* Dual Architecture Comparison Layout */
        .architecture-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
        }

        .architecture-side {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px var(--shadow-md);
        }

        .architecture-side.mongodb {
            border-left: 4px solid var(--primary-color);
        }

        .architecture-side.postgresql {
            border-left: 4px solid var(--accent-orange);
        }

        .architecture-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .architecture-title.mongodb {
            color: var(--primary-color);
        }

        .architecture-title.postgresql {
            color: var(--accent-orange);
        }

        .db-logo {
            width: 24px;
            height: 24px;
        }

        .arch-description {
            background: var(--background-soft);
            padding: var(--space-md);
            border-radius: var(--radius);
            margin-bottom: var(--space-lg);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .arch-benefits {
            list-style: none;
            padding: 0;
            margin: var(--space-lg) 0;
        }

        .arch-benefits li {
            background: var(--background-soft);
            padding: var(--space-sm);
            margin-bottom: var(--space-sm);
            border-radius: var(--radius);
            font-size: var(--font-size-sm);
            border-left: 3px solid var(--secondary-color);
        }

        .postgresql .arch-benefits li {
            border-left-color: var(--accent-orange);
        }

        .arch-diagram {
            width: 100%;
            height: 300px;
            background: var(--background-soft);
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            margin-top: var(--space-lg);
        }

        .complexity-indicator {
            background: var(--background-soft);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--space-md);
            margin-top: var(--space-lg);
            text-align: center;
        }

        .complexity-indicator.simple {
            border-left: 4px solid var(--secondary-color);
        }

        .complexity-indicator.complex {
            border-left: 4px solid var(--accent-orange);
        }

        .complexity-label {
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .complexity-simple {
            color: var(--primary-color);
        }

        .complexity-complex {
            color: var(--accent-orange);
        }

        .slide h2 {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-lg);
            color: var(--primary-color);
            font-weight: var(--font-weight-semibold);
        }

        .architecture-description {
            background: var(--background-soft);
            padding: var(--space-md);
            border-radius: var(--radius);
            margin-bottom: var(--space-lg);
            border-left: 3px solid var(--secondary-color);
        }

        .architecture-description h3 {
            color: var(--primary-color);
            font-size: var(--font-size-lg);
            margin-bottom: var(--space-sm);
            font-weight: var(--font-weight-semibold);
        }

        .architecture-description p {
            font-size: var(--font-size-sm);
            line-height: var(--line-height-normal);
            color: var(--text-secondary);
        }

        .benefits-list {
            list-style: none;
            margin: var(--space-lg) 0;
        }

        .benefits-list li {
            background: var(--background-soft);
            margin: var(--space-md) 0;
            padding: var(--space-md);
            border-radius: var(--radius);
            border-left: 3px solid var(--secondary-color);
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            transform: translateX(-20px);
            opacity: 0;
            animation: slideInBenefit 0.6s ease-out forwards;
        }

        .benefits-list li:nth-child(1) { animation-delay: 0.2s; }
        .benefits-list li:nth-child(2) { animation-delay: 0.4s; }
        .benefits-list li:nth-child(3) { animation-delay: 0.6s; }
        .benefits-list li:nth-child(4) { animation-delay: 0.8s; }

        @keyframes slideInBenefit {
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .diagram-container {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            position: relative;
            overflow: visible;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            border: 1px solid var(--border);
            height: auto;
            box-shadow: 0 4px 12px var(--shadow-md);
        }

        .architecture-diagram {
            width: 100%;
            height: auto;
            object-fit: contain;
            border-radius: var(--radius-md);
            box-shadow: 0 4px 12px var(--shadow-md);
            max-width: 100%;
            cursor: pointer;
            transition: var(--transition);
        }

        .architecture-diagram:hover {
            box-shadow: 0 6px 20px var(--shadow-lg);
            opacity: 0.9;
        }


        .diagram-overlay {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            background: var(--primary-color);
            color: var(--text-inverse);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-full);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
        }

        .postgresql-comparison {
            background: rgba(255, 152, 0, 0.1);
            padding: var(--space-md);
            border-radius: var(--radius);
            margin-top: var(--space-lg);
            border-left: 3px solid var(--accent-orange);
        }

        .postgresql-comparison h4 {
            color: var(--accent-orange);
            font-size: var(--font-size-base);
            margin-bottom: var(--space-sm);
            font-weight: var(--font-weight-semibold);
        }

        .postgresql-comparison p {
            font-size: var(--font-size-sm);
            line-height: var(--line-height-normal);
            color: var(--text-secondary);
        }

        .mongodb-highlight {
            color: var(--primary-color);
            font-weight: var(--font-weight-semibold);
        }

        .slide-counter {
            display: none;
        }



        .fade-in {
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Zoom modal for diagrams */
        .zoom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 30, 43, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
        }

        .zoom-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zoom-modal img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            border-radius: var(--radius-md);
        }

        .zoom-close {
            position: absolute;
            top: var(--space-2xl);
            right: var(--space-2xl);
            background: var(--secondary-color);
            border: none;
            color: var(--primary-color);
            font-size: var(--font-size-2xl);
            padding: var(--space-md) var(--space-lg);
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
        }

        .zoom-close:hover {
            background: var(--secondary-hover);
            transform: scale(1.1);
        }

        /* Scroll hint indicator */
        .scroll-hint {
            position: fixed;
            bottom: var(--space-2xl);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-sm);
            z-index: 100;
            animation: fadeInUp 2s ease-out 1s both;
        }

        .scroll-hint.hidden {
            opacity: 0 !important;
            pointer-events: none;
            visibility: hidden;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }

        .scroll-arrow {
            background: var(--secondary-color);
            color: var(--primary-color);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-xl);
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px var(--shadow-md);
            transition: var(--transition);
            animation: bounce 2s infinite;
        }

        .scroll-arrow:hover {
            background: var(--secondary-hover);
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 6px 20px var(--shadow-lg);
        }

        .scroll-text {
            background: var(--surface);
            color: var(--text-primary);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            box-shadow: 0 2px 8px var(--shadow-sm);
            border: 1px solid var(--border);
            white-space: nowrap;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .architecture-comparison {
                gap: var(--space-lg);
            }
        }

        @media (max-width: 900px) {
            .architecture-comparison {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
            }

            .text-content {
                padding: var(--space-lg);
            }

            .arch-diagram {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <header class="unified-header">
        <div class="header-content">
            <a href="playground.html" class="header-logo">
                <div class="logo-icon">M</div>
                <span>MongoDB Playground</span>
            </a>
            <div class="breadcrumb">
                <a href="playground.html">Playground</a>
                <span class="breadcrumb-separator">></span>
                <span>Architecture Overview</span>
            </div>
            <a href="playground.html" class="back-to-playground">← Back to Playground</a>
        </div>
    </header>

    <div class="page-container">
        <div class="presentation-container">

            <!-- Overview Slide -->
            <div class="slide active">
                <div class="slide-content">
                    <div class="text-content fade-in">
                        <h2>Database Platform Architecture Comparison</h2>
                        <div class="architecture-description">
                            <h3>Platform Foundation Comparison</h3>
                            <p>Compare how MongoDB and PostgreSQL serve as foundations for modern applications across various architectural patterns, examining their approaches to flexibility, scalability, and developer experience.</p>
                        </div>
                        <div class="key-insights">
                            <h4>🔍 Key Architectural Differences</h4>
                            <p>MongoDB's document-based approach naturally fits modern application development patterns, while PostgreSQL's relational model requires additional tooling and complexity for similar capabilities.</p>
                        </div>
                    </div>

                    <!-- Side-by-Side Architecture Comparison -->
                    <div class="architecture-comparison">
                        <!-- MongoDB Side -->
                        <div class="architecture-side mongodb">
                            <h3 class="architecture-title mongodb">
                                🍃 MongoDB Platform
                            </h3>
                            <div class="arch-description">
                                <strong>Document-Native Architecture:</strong> Built from the ground up for flexible, scalable applications with dynamic schemas and rich data types.
                            </div>
                            <ul class="arch-benefits">
                                <li><strong>Schema Flexibility:</strong> Dynamic schemas adapt without migrations</li>
                                <li><strong>Native Scaling:</strong> Built-in sharding and replication</li>
                                <li><strong>Rich Querying:</strong> Powerful aggregation framework</li>
                                <li><strong>Developer-First:</strong> Natural object mapping</li>
                                <li><strong>Cloud-Native:</strong> Atlas provides managed operations</li>
                            </ul>
                            <div class="arch-diagram">
                                <img src="assets/mongodb_platform_overview.png" alt="MongoDB Platform Architecture" style="width: 100%; height: 100%; object-fit: contain; border-radius: var(--radius);" onclick="openZoom(this.src)">
                            </div>
                            <div class="complexity-indicator simple">
                                <div class="complexity-label complexity-simple">Simplified Architecture</div>
                                <p style="font-size: var(--font-size-xs); margin-top: var(--space-xs);">Single platform handles most requirements</p>
                            </div>
                        </div>

                        <!-- PostgreSQL Side -->
                        <div class="architecture-side postgresql">
                            <h3 class="architecture-title postgresql">
                                🐘 PostgreSQL Platform
                            </h3>
                            <div class="arch-description">
                                <strong>Relational + Extensions:</strong> Traditional RDBMS enhanced with extensions and external tools to achieve modern application requirements.
                            </div>
                            <ul class="arch-benefits">
                                <li><strong>SQL Standards:</strong> Mature SQL compliance and ACID</li>
                                <li><strong>Extension Ecosystem:</strong> Rich plugin architecture</li>
                                <li><strong>JSON Support:</strong> Added JSON/JSONB capabilities</li>
                                <li><strong>Analytical Power:</strong> Strong for complex queries</li>
                                <li><strong>Enterprise Tools:</strong> Mature tooling ecosystem</li>
                            </ul>
                            <div class="arch-diagram">
                                <div style="padding: var(--space-xl); text-align: center;">
                                    <div style="background: var(--accent-orange); color: white; padding: var(--space-md); border-radius: var(--radius); margin-bottom: var(--space-md);">
                                        PostgreSQL Core
                                    </div>
                                    <div style="display: flex; flex-wrap: wrap; gap: var(--space-sm); justify-content: center;">
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">Citus (Scaling)</div>
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">pgvector (AI)</div>
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">PostGIS (Geo)</div>
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">TimescaleDB</div>
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">Connection Pool</div>
                                        <div style="background: var(--surface); border: 2px solid var(--accent-orange); padding: var(--space-sm); border-radius: var(--radius); font-size: var(--font-size-xs);">Load Balancer</div>
                                    </div>
                                    <p style="font-size: var(--font-size-xs); margin-top: var(--space-md); color: var(--text-secondary);">
                                        Multiple extensions and tools required
                                    </p>
                                </div>
                            </div>
                            <div class="complexity-indicator complex">
                                <div class="complexity-label complexity-complex">Complex Architecture</div>
                                <p style="font-size: var(--font-size-xs); margin-top: var(--space-xs);">Requires multiple components and tools</p>
                            </div>
                        </div>
                    </div>

                    <!-- Summary Comparison -->
                    <div style="background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: var(--space-xl); margin-top: var(--space-xl); box-shadow: 0 4px 12px var(--shadow-md);">
                        <h4 style="color: var(--primary-color); margin-bottom: var(--space-lg);">🏆 Architecture Decision Framework</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl);">
                            <div>
                                <h5 style="color: var(--primary-color); margin-bottom: var(--space-md);">Choose MongoDB When:</h5>
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Rapid development and deployment needed</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Schema flexibility is important</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Horizontal scaling is required</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Modern application patterns (microservices, cloud-native)</li>
                                </ul>
                            </div>
                            <div>
                                <h5 style="color: var(--accent-orange); margin-bottom: var(--space-md);">Choose PostgreSQL When:</h5>
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Complex analytical queries are primary use case</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Strong relational constraints needed</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Existing SQL expertise and tooling</li>
                                    <li style="padding: var(--space-xs) 0; color: var(--text-secondary);">• Traditional enterprise requirements</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide-counter">
            Architecture Comparison
        </div>
    </div>

    <!-- Scroll Hint -->
    <div class="scroll-hint" id="scrollHint">
        <div class="scroll-text">See PostgreSQL Comparison</div>
        <div class="scroll-arrow" onclick="scrollToComparison()" title="Scroll to see PostgreSQL comparison">↓</div>
    </div>

    <!-- Zoom Modal -->
    <div class="zoom-modal" id="zoomModal" onclick="closeZoom()">
        <button class="zoom-close" onclick="closeZoom()">&times;</button>
        <img id="zoomImage" src="" alt="Zoomed Architecture Diagram">
    </div>

    <script>
        function openZoom(imageSrc) {
            const modal = document.getElementById('zoomModal');
            const zoomImage = document.getElementById('zoomImage');
            zoomImage.src = imageSrc;
            modal.classList.add('active');
        }

        function closeZoom() {
            const modal = document.getElementById('zoomModal');
            modal.classList.remove('active');
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeZoom();
            }
        });

        // Scroll to PostgreSQL comparison section
        function scrollToComparison() {
            const postgresSection = document.querySelector('.postgresql-comparison');
            if (postgresSection) {
                postgresSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        }

        // Hide scroll hint when user scrolls
        function handleScroll() {
            const scrollHint = document.getElementById('scrollHint');
            const postgresSection = document.querySelector('.postgresql-comparison');
            
            if (scrollHint) {
                // Check if user scrolled down significantly
                const hasScrolled = window.scrollY > 100;
                
                // Check if user is near the bottom of the page
                const isAtBottom = (window.innerHeight + window.scrollY) >= (document.documentElement.scrollHeight - 50);
                
                // Check if PostgreSQL section is FULLY visible (more than 50% in view)
                let postgresFullyVisible = false;
                if (postgresSection) {
                    const rect = postgresSection.getBoundingClientRect();
                    const sectionHeight = rect.height;
                    const visibleHeight = Math.max(0, Math.min(rect.bottom, window.innerHeight) - Math.max(rect.top, 0));
                    postgresFullyVisible = visibleHeight > sectionHeight * 0.5; // More than 50% visible
                }
                
                // Show hint only if PostgreSQL section is NOT fully visible AND user hasn't scrolled much
                if (hasScrolled || isAtBottom || postgresFullyVisible) {
                    scrollHint.classList.add('hidden');
                } else {
                    scrollHint.classList.remove('hidden');
                }
            }
        }

        // Initialize scroll hint behavior
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(handleScroll, 10); // Debounce for better performance
        });
        
        window.addEventListener('load', () => {
            // Check if PostgreSQL section is initially hidden
            setTimeout(() => {
                const scrollHint = document.getElementById('scrollHint');
                const postgresSection = document.querySelector('.postgresql-comparison');
                
                if (postgresSection && scrollHint) {
                    const rect = postgresSection.getBoundingClientRect();
                    const isInitiallyHidden = rect.top > window.innerHeight;
                    
                    if (isInitiallyHidden) {
                        // PostgreSQL section is below the fold, show hint
                        scrollHint.classList.remove('hidden');
                    } else {
                        // PostgreSQL section is already visible, no hint needed
                        scrollHint.classList.add('hidden');
                    }
                }
                
                handleScroll();
            }, 1000);
        });

        // Handle image load errors
        document.querySelectorAll('.architecture-diagram').forEach(img => {
            img.addEventListener('error', function() {
                this.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect width="400" height="300" fill="%23f0f0f0"/><text x="200" y="150" text-anchor="middle" fill="%23666">Diagram Loading...</text></svg>';
            });
        });
    </script>
</body>
</html>