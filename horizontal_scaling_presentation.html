<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB Sharding vs PostgreSQL Partitioning</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #001E2B 0%, #00684A 50%, #00ED64 100%);
            color: #001E2B;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation Menu */
        .nav-menu {
            position: fixed;
            left: -320px;
            top: 0;
            width: 320px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 25px;
            overflow-y: auto;
            border-right: 1px solid rgba(0, 104, 74, 0.2);
            box-shadow: 4px 0 30px rgba(0, 30, 43, 0.15);
        }

        .nav-menu.open {
            left: 0;
        }

        .nav-menu h2 {
            color: #00684A;
            margin-bottom: 30px;
            font-size: 1.6rem;
            font-weight: 700;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #00ED64;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .nav-menu h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
            border-radius: 2px;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 8px;
        }

        .nav-menu > ul > li > a {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            text-decoration: none;
            color: #001E2B;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid transparent;
            font-weight: 600;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .nav-menu > ul > li > a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-menu > ul > li > a:hover::before,
        .nav-menu > ul > li > a.active::before {
            opacity: 1;
        }

        .nav-menu > ul > li > a:hover,
        .nav-menu > ul > li > a.active {
            border-left: 4px solid #00ED64;
            transform: translateX(8px);
            color: #00684A;
            box-shadow: 0 8px 25px rgba(0, 237, 100, 0.2);
        }

        /* Accordion Styles */
        .nav-accordion {
            margin-bottom: 10px;
        }

        .nav-category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(0, 104, 74, 0.1) 0%, rgba(0, 30, 43, 0.05) 100%);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            color: #00684A;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 1px solid rgba(0, 104, 74, 0.15);
            position: relative;
            overflow: hidden;
        }

        .nav-category-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.15) 0%, rgba(0, 184, 77, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-category-header:hover::before {
            opacity: 1;
        }

        .nav-category-header:hover {
            transform: translateX(6px);
            box-shadow: 0 4px 15px rgba(0, 104, 74, 0.2);
        }

        .accordion-icon {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.9rem;
            color: #00684A;
            z-index: 1;
            position: relative;
        }

        .accordion-icon.rotated {
            transform: rotate(180deg);
        }

        .nav-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-accordion-content.expanded {
            max-height: 400px;
        }

        .nav-accordion-content li {
            margin-bottom: 6px;
            margin-left: 20px;
        }

        .nav-accordion-content a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            text-decoration: none;
            color: #001E2B;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 3px solid transparent;
            font-weight: 500;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

        .nav-accordion-content a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-accordion-content a:hover::before,
        .nav-accordion-content a.active::before {
            opacity: 1;
        }

        .nav-accordion-content a:hover,
        .nav-accordion-content a.active {
            border-left: 3px solid #00ED64;
            transform: translateX(8px);
            color: #00684A;
            box-shadow: 0 4px 15px rgba(0, 237, 100, 0.2);
        }

        /* Menu Toggle Button */
        .menu-toggle {
            position: fixed;
            top: 25px;
            left: 25px;
            z-index: 1001;
            background: rgba(0, 104, 74, 0.95);
            border: none;
            color: white;
            padding: 14px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            box-shadow: 0 6px 20px rgba(0, 30, 43, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .menu-toggle:hover {
            background: #00ED64;
            color: #001E2B;
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 30px rgba(0, 237, 100, 0.4);
        }

        .menu-toggle.menu-open {
            background: #00ED64;
            color: #001E2B;
            transform: rotate(90deg);
        }

        /* Backdrop */
        .nav-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 30, 43, 0.8);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        /* Main Content */
        .content {
            padding: 40px;
            padding-left: 100px;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 30, 43, 0.15);
            margin-bottom: 30px;
            border: 1px solid rgba(0, 104, 74, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #00ED64, #00B84D, #00684A);
            border-radius: 20px 20px 0 0;
        }

        .header h1 {
            color: #00684A;
            margin-bottom: 15px;
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #001E2B;
            font-weight: 300;
            opacity: 0.8;
        }

        /* Real Impact Box */
        .real-impact-container {
            margin-bottom: 30px;
        }

        .real-impact-box {
            background: linear-gradient(135deg, #00684A 0%, #001E2B 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.25);
            position: relative;
            overflow: hidden;
        }

        .real-impact-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
        }

        .real-impact-text {
            font-size: 1.1rem;
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }

        /* Demo Overview */
        .demo-overview-section {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            margin-bottom: 30px;
            overflow: hidden;
            border: 1px solid rgba(0, 104, 74, 0.1);
        }

        .demo-toggle-header {
            padding: 25px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 104, 74, 0.1);
            transition: all 0.3s ease;
        }

        .demo-toggle-header:hover {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.05) 0%, rgba(0, 184, 77, 0.02) 100%);
        }

        .demo-toggle-title {
            font-size: 1.4rem;
            color: #00684A;
            font-weight: 700;
        }

        .demo-toggle-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
            color: #00684A;
        }

        .demo-content {
            padding: 30px;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .scenario-card {
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
        }

        .mongo-scenario {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            border-left-color: #00ED64;
        }

        .sql-scenario {
            background: linear-gradient(135deg, rgba(51, 110, 255, 0.1) 0%, rgba(79, 195, 247, 0.05) 100%);
            border-left-color: #336EFF;
        }

        .scenario-title {
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .mongo-title {
            color: #00684A;
        }

        .sql-title {
            color: #336EFF;
        }

        .scenario-list {
            list-style: none;
        }

        .scenario-list li {
            padding: 8px 0;
            position: relative;
            padding-left: 25px;
            line-height: 1.6;
        }

        .scenario-list li::before {
            content: "▶";
            position: absolute;
            left: 0;
            color: #00684A;
            font-size: 0.8rem;
        }

        .key-differences {
            background: linear-gradient(135deg, rgba(0, 104, 74, 0.05) 0%, rgba(0, 30, 43, 0.02) 100%);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(0, 104, 74, 0.1);
        }

        .key-differences h4 {
            margin-bottom: 20px;
            color: #00684A;
            font-size: 1.2rem;
        }

        .differences-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .difference-point {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 30, 43, 0.1);
        }

        .point-icon {
            font-size: 2rem;
            width: 60px;
            text-align: center;
        }

        .point-title {
            font-weight: 700;
            color: #00684A;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .point-description {
            color: #001E2B;
            opacity: 0.8;
            font-size: 0.95rem;
        }

        /* Controls */
        .controls {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(0, 104, 74, 0.1);
        }

        .controls h3 {
            margin-bottom: 25px;
            color: #00684A;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 28px;
            background: linear-gradient(135deg, #00ED64 0%, #00B84D 100%);
            color: #001E2B;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            margin: 0 10px 10px 0;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #00B84D 0%, #00684A 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn:hover::before {
            opacity: 1;
        }

        .btn:hover {
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 237, 100, 0.4);
        }

        .btn span {
            position: relative;
            z-index: 1;
        }

        /* Stats Container */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            transition: transform 0.3s ease;
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #00684A;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #001E2B;
            font-weight: 600;
            opacity: 0.8;
        }

        /* Commands Section */
        .commands-section {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            margin-bottom: 30px;
            overflow: hidden;
            border: 1px solid rgba(0, 104, 74, 0.1);
        }

        .commands-section h3 {
            padding: 25px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin: 0;
            border-bottom: 1px solid rgba(0, 104, 74, 0.1);
            color: #00684A;
            font-weight: 700;
        }

        .command-tabs {
            display: flex;
            background: #f8f9fa;
        }

        .tab-btn {
            flex: 1;
            padding: 18px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            color: #001E2B;
            font-size: 1rem;
        }

        .tab-btn.active {
            background: white;
            border-bottom-color: #00ED64;
            color: #00684A;
        }

        .tab-btn:hover:not(.active) {
            background: rgba(0, 237, 100, 0.05);
        }

        .tab-content {
            display: none;
            padding: 30px;
            background: #1e1e1e;
            color: #f8f8f2;
            font-family: 'Courier New', monospace;
            line-height: 1.7;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 0.95rem;
        }

        .tab-content.active {
            display: block;
        }

        /* Architecture */
        .architecture {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .arch-panel {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
            overflow: hidden;
        }

        .arch-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
        }

        .arch-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #00684A;
            color: #00684A;
        }

        .arch-title.sql {
            border-bottom-color: #336EFF;
            color: #336EFF;
        }

        .query-router, .sql-router {
            background: linear-gradient(135deg, #00684A 0%, #001E2B 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 700;
            position: relative;
            overflow: hidden;
        }

        .sql-router {
            background: linear-gradient(135deg, #336EFF 0%, #1976D2 100%);
        }

        .query-router small, .sql-router small {
            display: block;
            font-size: 0.9rem;
            margin-top: 8px;
            opacity: 0.9;
            font-weight: 500;
        }

        .shards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .shard {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 2px solid;
            position: relative;
            overflow: hidden;
        }

        .shard.mongo {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 184, 77, 0.05) 100%);
            border-color: #00ED64;
            color: #00684A;
        }

        .shard.sql {
            background: linear-gradient(135deg, rgba(51, 110, 255, 0.1) 0%, rgba(79, 195, 247, 0.05) 100%);
            border-color: #336EFF;
            color: #336EFF;
        }

        .shard.new-shard {
            animation: highlight 3s ease-in-out;
        }

        @keyframes highlight {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(0, 237, 100, 0.6); }
        }

        .shard-title {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .shard-title.sql {
            color: #336EFF;
        }

        /* Log Container */
        .log-container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 30, 43, 0.15);
            overflow: hidden;
            border: 1px solid rgba(0, 104, 74, 0.1);
            position: relative;
        }

        .log-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00ED64, #00B84D);
        }

        .log-container h3 {
            padding: 25px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin: 0;
            border-bottom: 1px solid rgba(0, 104, 74, 0.1);
            color: #00684A;
            font-weight: 700;
        }

        .log-content {
            height: 350px;
            overflow-y: auto;
            padding: 25px;
            background: #1e1e1e;
            color: #f8f8f2;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .log-entry {
            margin-bottom: 10px;
            padding: 8px 15px;
            border-radius: 6px;
            border-left: 3px solid transparent;
        }

        .log-entry.command {
            background: rgba(0, 237, 100, 0.15);
            border-left-color: #00ED64;
        }

        .log-entry.sql {
            background: rgba(51, 110, 255, 0.15);
            border-left-color: #336EFF;
        }

        /* Logo Icons */
        .mongodb-logo-icon::before {
            content: "🍃";
            margin-right: 8px;
        }

        .postgresql-logo-icon::before {
            content: "🐘";
            margin-right: 8px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .content {
                padding: 30px;
                padding-left: 100px;
            }
            
            .scenario-grid,
            .differences-grid,
            .architecture {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
                padding-left: 80px;
            }
            
            .header {
                padding: 30px 25px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .btn {
                display: block;
                margin: 10px 0;
                width: 100%;
            }
            
            .shards-container {
                grid-template-columns: 1fr;
            }
            
            .demo-content {
                padding: 20px;
            }
            
            .menu-toggle {
                top: 20px;
                left: 20px;
                padding: 12px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .content {
                padding: 15px;
                padding-left: 70px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .controls,
            .real-impact-box,
            .demo-content {
                padding: 20px;
            }
            
            .difference-point {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
        }

        /* Accessibility */
        button:focus,
        a:focus {
            outline: 3px solid #00ED64;
            outline-offset: 2px;
        }

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <button class="menu-toggle" onclick="toggleMobileMenu()" id="menuToggle" aria-label="Toggle Navigation Menu">
        ☰
    </button>
    
    <div class="nav-backdrop" id="navBackdrop" onclick="closeMobileMenu()"></div>
    
    <nav class="nav-menu" id="navMenu" role="navigation">
        <h2>MongoDB vs SQL</h2>
        <ul>
            <li><a href="index.html">🏠 Home</a></li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('competition')" role="button" tabindex="0" aria-expanded="false">
                    <span>Comparative Analysis</span>
                    <span class="accordion-icon" id="competition-icon">▼</span>
                </div>
                <ul class="nav-accordion-content" id="competition-content" role="region">
                    <li><a href="mongodb_vs_postgres_presentation.html">
                        <span class="mongodb-logo-icon" aria-hidden="true"></span>MongoDB vs PostgreSQL
                    </a></li>
                    <li><a href="mongodb_postgres_technical_presentation.html">
                        <span class="postgresql-logo-icon" aria-hidden="true"></span>Postgres Technical Comparison
                    </a></li>
                </ul>
            </li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('architecture')" role="button" tabindex="0" aria-expanded="true">
                    <span>High Availability and Scalability</span>
                    <span class="accordion-icon rotated" id="architecture-icon">▼</span>
                </div>
                <ul class="nav-accordion-content expanded" id="architecture-content" role="region">
                    <li><a href="mongodb_replica_set_demo.html">🔄 High Availability</a></li>
                    <li><a href="horizontal_scaling_presentation.html" class="active">📈 Horizontal Scaling</a></li>
                </ul>
            </li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('patterns')" role="button" tabindex="0" aria-expanded="false">
                    <span>Architecture Patterns</span>
                    <span class="accordion-icon" id="patterns-icon">▼</span>
                </div>
                <ul class="nav-accordion-content" id="patterns-content" role="region">
                    <li><a href="mongodb_architecture_overview.html">📋 Overview</a></li>
                    <li><a href="mongodb_microservices.html">🏗️ Microservices</a></li>
                    <li><a href="mongodb_rag.html">🤖 RAG Architecture</a></li>
                    <li><a href="mongodb_event_driven.html">⚡ Event-Driven</a></li>
                    <li><a href="mongodb_cqrs.html">🔄 CQRS + Event Sourcing</a></li>
                    <li><a href="mongodb_iot.html">🌐 IoT Pipeline</a></li>
                    <li><a href="mongodb_realtime_analytics.html">📊 Real-time Analytics</a></li>
                </ul>
            </li>
            
            <li class="nav-accordion">
                <div class="nav-category-header" onclick="toggleAccordion('development')" role="button" tabindex="0" aria-expanded="false">
                    <span>Application Development</span>
                    <span class="accordion-icon" id="development-icon">▼</span>
                </div>
                <ul class="nav-accordion-content" id="development-content" role="region">
                    <li><a href="orm_vs_natural_objects_presentation.html">🔧 ORM vs Natural Objects</a></li>  
                    <li><a href="schema_evolution_presentation.html">🚀 Schema Evolution</a></li>
                    <li><a href="arrays_embedded_docs_presentation.html">📊 Arrays & Embedded Docs</a></li>
                    <li><a href="aggregation_pipeline_presentation.html">⚡ Aggregation Pipeline</a></li>
                    <li><a href="mongo_postgres_cdc_presentation.html">🔄 Change Data Capture</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <main class="content">
        <header class="header">
            <h1>
                <span class="mongodb-logo-icon" aria-hidden="true"></span>MongoDB Sharding vs 
                <span class="postgresql-logo-icon" aria-hidden="true"></span>PostgreSQL Partitioning
            </h1>
            <p class="subtitle">Experience the difference between automatic horizontal scaling and manual partitioning</p>
        </header>

        <!-- Real Impact Box -->
        <div class="real-impact-container">
            <div class="real-impact-box">
                <div class="real-impact-text">
                    <strong>Real Impact:</strong> MongoDB's automatic sharding reduces operational overhead by 90% compared to manual PostgreSQL partitioning, while providing seamless horizontal scaling and zero-downtime shard additions.
                </div>
            </div>
        </div>

        <!-- Expandable Demo Overview -->
        <div class="demo-overview-section">
            <div class="demo-toggle-header" onclick="toggleDemoOverview()">
                <h3 class="demo-toggle-title">📋 What This Demo Shows</h3>
                <span id="demoToggle" class="demo-toggle-icon">▼</span>
            </div>
            
            <div id="demoOverview" style="display: none;" class="demo-content">
                <div class="scenario-grid">
                    <div class="scenario-card mongo-scenario">
                        <h4 class="scenario-title mongo-title">🍃 MongoDB Sharding Scenario</h4>
                        <ul class="scenario-list">
                            <li>Automatic data distribution across multiple shards</li>
                            <li>Zero-downtime shard additions with automatic rebalancing</li>
                            <li>mongos router handles all query routing transparently</li>
                            <li>Built-in chunk migration and load balancing</li>
                            <li><strong>No application code changes required</strong></li>
                        </ul>
                    </div>
                    
                    <div class="scenario-card sql-scenario">
                        <h4 class="scenario-title sql-title">🐘 PostgreSQL Partitioning Scenario</h4>
                        <ul class="scenario-list">
                            <li>Manual table partitioning with explicit range definitions</li>
                            <li>Application-level routing logic required</li>
                            <li>Downtime needed for partition restructuring</li>
                            <li>Manual data migration between partitions</li>
                            <li><strong>Complex operational procedures</strong></li>
                        </ul>
                    </div>
                </div>
                
                <div class="key-differences">
                    <h4>🔍 Key Differences You'll Experience</h4>
                    <div class="differences-grid">
                        <div class="difference-point">
                            <div class="point-icon">⚡</div>
                            <div class="point-content">
                                <div class="point-title">Scaling Speed</div>
                                <div class="point-description">Instant vs. hours of planning and downtime</div>
                            </div>
                        </div>
                        <div class="difference-point">
                            <div class="point-icon">🔧</div>
                            <div class="point-content">
                                <div class="point-title">Operational Complexity</div>
                                <div class="point-description">Single commands vs. complex procedures</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <h3>🎮 Demo Controls</h3>
            <button class="btn btn-primary" onclick="addDataFinal()">
                <span>📈 Add 1000 Records</span>
            </button>
            <button class="btn btn-primary" onclick="addShardFinal()">
                <span>🔧 Add MongoDB Shard</span>
            </button>
            <button class="btn btn-primary" onclick="resetFinal()">
                <span>🔄 Reset Demo</span>
            </button>
        </div>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="totalRecords">0</div>
                <div class="stat-label">Total Records</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="mongoShards">3</div>
                <div class="stat-label">MongoDB Shards</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="sqlPartitions">1</div>
                <div class="stat-label">SQL Partitions</div>
            </div>
        </div>

        <div class="commands-section">
            <h3>💻 Database Commands</h3>
            <div class="command-tabs">
                <button class="tab-btn active" onclick="showTabFinal('mongo')">MongoDB</button>
                <button class="tab-btn" onclick="showTabFinal('postgresql')">PostgreSQL</button>
            </div>
            <div id="mongo-content" class="tab-content active">// Current MongoDB sharding commands
sh.enableSharding("ecommerce")
sh.shardCollection("ecommerce.users", {"user_id": 1})

// Query routing (automatic)
db.users.find({"user_id": 12345})  // → Routes to correct shard
db.users.find({"city": "SF"})     // → Broadcast query

// Add new shard (what you're doing)
sh.addShard("shard004/new-region:27017")
// ✅ Automatic rebalancing, zero downtime</div>
            <div id="postgresql-content" class="tab-content">-- Current PostgreSQL partitioning commands
-- Creating new partition (what you're doing)
CREATE TABLE users_partition_3 (
    user_id INTEGER NOT NULL,
    email VARCHAR(255),
    name VARCHAR(255),
    created_at TIMESTAMP,
    CHECK (user_id >= 20001 AND user_id <= 30000)
) INHERITS (users);

-- Create indexes on new partition
CREATE INDEX idx_users_partition_3_id ON users_partition_3 (user_id);
CREATE INDEX idx_users_partition_3_email ON users_partition_3 (email);

-- Update trigger function for routing
CREATE OR REPLACE FUNCTION users_insert_trigger()
RETURNS TRIGGER AS $
BEGIN
    IF NEW.user_id >= 1 AND NEW.user_id <= 10000 THEN
        INSERT INTO users_partition_1 VALUES (NEW.*);
    ELSIF NEW.user_id >= 10001 AND NEW.user_id <= 20000 THEN
        INSERT INTO users_partition_2 VALUES (NEW.*);
    ELSIF NEW.user_id >= 20001 AND NEW.user_id <= 30000 THEN
        INSERT INTO users_partition_3 VALUES (NEW.*);
    ELSE
        RAISE EXCEPTION 'user_id out of range';
    END IF;
    RETURN NULL;
END;
$ LANGUAGE plpgsql;

-- Update application connection pool
-- ⚠️ Restart required for new partition recognition
-- ⚠️ NO automatic data rebalancing - existing data stays put!</div>
        </div>

        <div class="architecture">
            <div class="arch-panel">
                <div class="arch-title"><span class="mongodb-logo-icon"></span>MongoDB Sharded Cluster</div>
                
                <div class="query-router">
                    🎯 mongos Query Router
                    <small>Automatic routing & load balancing</small>
                </div>
                
                <div class="shards-container" id="mongoContainer">
                    <!-- Shards will be added here -->
                </div>
            </div>

            <div class="arch-panel">
                <div class="arch-title sql"><span class="postgresql-logo-icon"></span>PostgreSQL Manual Partitioning</div>
                
                <div class="sql-router">
                    ⚙️ Application Logic + pgpool
                    <small>Manual routing & connection pooling</small>
                </div>
                
                <div class="shards-container sql" id="sqlContainer">
                    <!-- SQL partitions will be added here dynamically -->
                </div>
            </div>
        </div>

        <div class="log-container">
            <h3>📊 Activity Log</h3>
            <div class="log-content" id="logContainer"></div>
        </div>
    </main>

    <script>
        // Global state
        var totalRecords = 0;
        var mongoShardCount = 3;
        var sqlPartitionCount = 1;
        var mongoData = { shard1: 0, shard2: 0, shard3: 0 };
        var sqlData = [0]; // Array to hold data per partition

        // Navigation Functions
        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const backdrop = document.getElementById('navBackdrop');
            const toggleBtn = document.getElementById('menuToggle');
            
            navMenu.classList.toggle('open');
            backdrop.classList.toggle('active');
            toggleBtn.classList.toggle('menu-open');
            
            // Update ARIA attributes
            const isOpen = navMenu.classList.contains('open');
            toggleBtn.setAttribute('aria-expanded', isOpen);
        }

        function closeMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const backdrop = document.getElementById('navBackdrop');
            const toggleBtn = document.getElementById('menuToggle');
            
            navMenu.classList.remove('open');
            backdrop.classList.remove('active');
            toggleBtn.classList.remove('menu-open');
            
            // Update ARIA attributes
            toggleBtn.setAttribute('aria-expanded', 'false');
        }

        function toggleAccordion(categoryId) {
            const content = document.getElementById(categoryId + '-content');
            const icon = document.getElementById(categoryId + '-icon');
            const header = content.previousElementSibling;
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('rotated');
                header.setAttribute('aria-expanded', 'false');
            } else {
                content.classList.add('expanded');
                icon.classList.add('rotated');
                header.setAttribute('aria-expanded', 'true');
            }
        }

        function initializeAccordion() {
            // Auto-expand architecture section since this is a scaling demo
            const archContent = document.getElementById('architecture-content');
            const archIcon = document.getElementById('architecture-icon');
            const archHeader = archContent.previousElementSibling;
            
            if (archContent && archIcon && archHeader) {
                archContent.classList.add('expanded');
                archIcon.classList.add('rotated');
                archHeader.setAttribute('aria-expanded', 'true');
            }
        }

        // LOG FUNCTION
        function logFinal(message, type) {
            var container = document.getElementById('logContainer');
            if (container) {
                var entry = document.createElement('div');
                entry.className = 'log-entry ' + (type || '');
                entry.textContent = '[' + new Date().toLocaleTimeString() + '] ' + message;
                container.appendChild(entry);
                container.scrollTop = container.scrollHeight;
            }
        }

        function updateStatsFinal() {
            document.getElementById('totalRecords').textContent = totalRecords.toLocaleString();
            document.getElementById('mongoShards').textContent = mongoShardCount;
            document.getElementById('sqlPartitions').textContent = sqlPartitionCount;
        }

        function showTabFinal(tabName) {
            // Hide all tabs
            document.getElementById('mongo-content').classList.remove('active');
            document.getElementById('postgresql-content').classList.remove('active');
            
            // Remove active from buttons
            var buttons = document.querySelectorAll('.tab-btn');
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove('active');
            }
            
            // Show selected tab
            document.getElementById(tabName + '-content').classList.add('active');
            event.target.classList.add('active');
        }

        function renderMongoShardsFinal() {
            var container = document.getElementById('mongoContainer');
            container.innerHTML = '';

            var locations = ['US-East', 'US-West', 'EU', 'Asia-Pacific', 'Canada', 'Australia', 'Brazil', 'India'];

            for (var i = 1; i <= mongoShardCount; i++) {
                var shard = document.createElement('div');
                shard.className = 'shard mongo';
                shard.id = 'mongoShard' + i;
                
                if (i === mongoShardCount && mongoShardCount > 3) {
                    shard.classList.add('new-shard');
                }

                var records = mongoData['shard' + i] || 0;
                var percentage = totalRecords > 0 ? Math.round((records / totalRecords) * 100) : 0;
                var location = locations[i - 1] || 'Region-' + i;
                
                // Calculate range for display
                var rangeStart = ((i - 1) * 10000) + 1;
                var rangeEnd = i * 10000;
                var rangeText = 'Range: ' + rangeStart + '-' + rangeEnd;

                shard.innerHTML = 
                    '<div class="shard-title">Shard ' + i + '</div>' +
                    '<div><strong>' + location + '</strong></div>' +
                    '<div>' + records.toLocaleString() + ' docs</div>' +
                    '<div style="color: #00684A; font-weight: 600;">(' + percentage + '%)</div>' +
                    '<div style="font-size: 0.8em; color: #666; margin-top: 5px;">' + rangeText + '</div>';

                container.appendChild(shard);
            }

            logFinal('✅ MongoDB cluster updated - ' + mongoShardCount + ' shards active');
        }

        function updatePostgreSQLCommands() {
            var partitionCommands = "-- Current PostgreSQL partitioning setup\n";
            
            for (var i = 1; i <= sqlPartitionCount; i++) {
                var rangeStart = ((i - 1) * 10000) + 1;
                var rangeEnd = i * 10000;
                
                partitionCommands += "CREATE TABLE users_partition_" + i + " (\n";
                partitionCommands += "    user_id INTEGER NOT NULL,\n";
                partitionCommands += "    email VARCHAR(255),\n";
                partitionCommands += "    name VARCHAR(255),\n";
                partitionCommands += "    created_at TIMESTAMP,\n";
                partitionCommands += "    CHECK (user_id >= " + rangeStart + " AND user_id <= " + rangeEnd + ")\n";
                partitionCommands += ") INHERITS (users);\n\n";
                
                partitionCommands += "CREATE INDEX idx_users_partition_" + i + "_id ON users_partition_" + i + " (user_id);\n";
                partitionCommands += "CREATE INDEX idx_users_partition_" + i + "_email ON users_partition_" + i + " (email);\n\n";
            }
            
            partitionCommands += "-- Update trigger function for routing\n";
            partitionCommands += "CREATE OR REPLACE FUNCTION users_insert_trigger()\n";
            partitionCommands += "RETURNS TRIGGER AS $\n";
            partitionCommands += "BEGIN\n";
            
            for (var i = 1; i <= sqlPartitionCount; i++) {
                var rangeStart = ((i - 1) * 10000) + 1;
                var rangeEnd = i * 10000;
                var condition = i === 1 ? "IF" : "ELSIF";
                
                partitionCommands += "    " + condition + " NEW.user_id >= " + rangeStart + " AND NEW.user_id <= " + rangeEnd + " THEN\n";
                partitionCommands += "        INSERT INTO users_partition_" + i + " VALUES (NEW.*);\n";
            }
            
            partitionCommands += "    ELSE\n";
            partitionCommands += "        RAISE EXCEPTION 'user_id out of range';\n";
            partitionCommands += "    END IF;\n";
            partitionCommands += "    RETURN NULL;\n";
            partitionCommands += "END;\n";
            partitionCommands += "$ LANGUAGE plpgsql;\n\n";
            partitionCommands += "-- ⚠️ NO automatic data rebalancing!\n";
            partitionCommands += "-- ⚠️ Manual data migration required for even distribution\n";
            
            if (sqlPartitionCount > 1) {
                partitionCommands += "\n-- Optional manual rebalancing (ADDITIONAL DOWNTIME):\n";
                for (var i = 1; i < sqlPartitionCount; i++) {
                    partitionCommands += "-- BEGIN; -- Start transaction\n";
                    partitionCommands += "-- INSERT INTO users_partition_" + (i + 1) + " \n";
                    partitionCommands += "--   SELECT * FROM users_partition_" + i + " WHERE user_id > " + (i * 10000) + ";\n";
                    partitionCommands += "-- DELETE FROM users_partition_" + i + " WHERE user_id > " + (i * 10000) + ";\n";
                    partitionCommands += "-- COMMIT; -- Hours of downtime per migration\n\n";
                }
            }
            
            document.getElementById('postgresql-content').textContent = partitionCommands;
        }

        function renderSqlPartitionsFinal() {
            var container = document.getElementById('sqlContainer');
            container.innerHTML = '';

            for (var i = 1; i <= sqlPartitionCount; i++) {
                var partition = document.createElement('div');
                partition.className = 'shard sql';
                
                var records = sqlData[i - 1] || 0;
                var percentage = totalRecords > 0 ? Math.round((records / totalRecords) * 100) : 0;
                
                // Calculate range for display
                var rangeStart = ((i - 1) * 10000) + 1;
                var rangeEnd = i * 10000;
                var rangeText = 'user_id: ' + rangeStart + '-' + rangeEnd;
                
                // Show if partition is empty (common in PostgreSQL)
                var statusText = records === 0 ? '<div style="color: #FF6B35; font-weight: 600; font-size: 0.8em; margin-top: 5px;">EMPTY - No auto-rebalance</div>' : '';

                partition.innerHTML = 
                    '<div class="shard-title sql">Partition ' + i + '</div>' +
                    '<div><strong>' + rangeText + '</strong></div>' +
                    '<div>' + records.toLocaleString() + ' records</div>' +
                    '<div style="color: #D32F2F; font-weight: 600;">(' + percentage + '%)</div>' +
                    statusText;

                container.appendChild(partition);
            }
        }

        function addDataFinal() {
            totalRecords += 1000;

            // Determine if we need new SQL partitions based on realistic thresholds
            var partitionThreshold = 10000; // Records per partition capacity
            var requiredPartitions = Math.ceil(totalRecords / partitionThreshold);
            
            if (requiredPartitions > sqlPartitionCount) {
                // Add new partition(s) - this simulates the manual process
                var oldPartitionCount = sqlPartitionCount;
                sqlPartitionCount = requiredPartitions;
                
                // Add new empty partition arrays (PostgreSQL doesn't auto-rebalance!)
                while (sqlData.length < sqlPartitionCount) {
                    sqlData.push(0);
                }
                
                // Simulate the complex partition creation process
                logFinal('⚠️ SQL: CAPACITY THRESHOLD REACHED - New partition needed!', 'sql');
                logFinal('🚨 SQL: SCHEDULED MAINTENANCE WINDOW - Taking application offline', 'sql');
                logFinal('⏱️ SQL: Estimated downtime: 2-4 hours for partition setup', 'sql');
                logFinal('📝 SQL: Creating partition table with CHECK constraints', 'sql');
                logFinal('🔧 SQL: Updating trigger functions for data routing', 'sql');
                logFinal('⚡ SQL: Creating indexes on new partition', 'sql');
                logFinal('🔄 SQL: Restarting application servers for new partition', 'sql');
                logFinal('⚠️ SQL: NO automatic rebalancing - existing data stays uneven!', 'sql');
                logFinal('✅ SQL: Partition ' + sqlPartitionCount + ' ready (empty)', 'sql');
                
                // Update PostgreSQL commands tab to show current state
                updatePostgreSQLCommands();
            }

            // Add the new 1000 records - PostgreSQL routes by range, doesn't rebalance
            if (sqlPartitionCount === 1) {
                // Single partition - all data goes here
                sqlData[0] += 1000;
            } else {
                // PostgreSQL routes new data to appropriate partition by user_id range
                // Simulate user_id ranges: 1-10000, 10001-20000, 20001-30000, etc.
                var currentMaxUserId = totalRecords - 1000; // Before adding new records
                var newDataStart = currentMaxUserId + 1;
                var newDataEnd = totalRecords;
                
                // Determine which partition(s) the new data goes to
                for (var userId = newDataStart; userId <= newDataEnd; userId++) {
                    var targetPartition = Math.floor((userId - 1) / partitionThreshold);
                    if (targetPartition >= sqlPartitionCount) {
                        targetPartition = sqlPartitionCount - 1; // Fallback to last partition
                    }
                    sqlData[targetPartition]++;
                }
            }

            // Distribute across MongoDB shards (automatic)
            var perShard = Math.floor(1000 / mongoShardCount);
            var remainder = 1000 % mongoShardCount;

            for (var i = 1; i <= mongoShardCount; i++) {
                var additional = perShard + (i <= remainder ? 1 : 0);
                mongoData['shard' + i] = (mongoData['shard' + i] || 0) + additional;
            }

            updateStatsFinal();
            renderMongoShardsFinal();
            renderSqlPartitionsFinal();

            logFinal('📈 Added 1000 records (Total: ' + totalRecords.toLocaleString() + ')');
            logFinal('✅ MongoDB: Auto-distributed via mongos router', 'command');
            
            if (sqlPartitionCount > 1) {
                var unevenWarning = '';
                var maxRecords = Math.max(...sqlData);
                var minRecords = Math.min(...sqlData.slice(0, sqlPartitionCount));
                if (maxRecords - minRecords > 1000) {
                    unevenWarning = ' (UNEVEN - no auto-rebalancing!)';
                }
                logFinal('⚠️ SQL: Data routed to partition by user_id range' + unevenWarning, 'sql');
                
                // Show which partition got the new data
                var lastPartitionWithData = -1;
                for (var i = sqlPartitionCount - 1; i >= 0; i--) {
                    if (sqlData[i] > 0) {
                        lastPartitionWithData = i + 1;
                        break;
                    }
                }
                if (lastPartitionWithData > 0) {
                    logFinal('📊 SQL: New records added to partition ' + lastPartitionWithData, 'sql');
                }
            } else {
                logFinal('⚠️ SQL: All records in single partition - approaching capacity limit', 'sql');
            }
        }

        function addShardFinal() {
            mongoShardCount++;
            var newShardKey = 'shard' + mongoShardCount;
            mongoData[newShardKey] = 0;

            var locations = ['US-East', 'US-West', 'EU', 'Asia-Pacific', 'Canada', 'Australia', 'Brazil', 'India'];
            var newLocation = locations[mongoShardCount - 1] || 'Region-' + mongoShardCount;

            logFinal('🔧 DBA Command: sh.addShard("' + newLocation.toLowerCase() + ':27017")', 'command');
            logFinal('🎯 mongos discovering new shard and updating routing tables', 'command');

            // Automatic rebalancing
            var totalData = 0;
            for (var key in mongoData) {
                totalData += mongoData[key];
            }

            if (totalData > 0) {
                var targetPerShard = Math.floor(totalData / mongoShardCount);
                var remainder = totalData % mongoShardCount;

                // Redistribute data
                for (var i = 1; i <= mongoShardCount; i++) {
                    mongoData['shard' + i] = targetPerShard + (i <= remainder ? 1 : 0);
                }
            }

            updateStatsFinal();
            renderMongoShardsFinal();

            logFinal('⚖️ Automatic chunk migration started by balancer', 'command');
            logFinal('✅ Shard ' + mongoShardCount + ' (' + newLocation + ') integrated with zero downtime');
            logFinal('⚠️ SQL equivalent: Manual partition + app code changes + downtime', 'sql');

            // Remove highlighting after animation
            setTimeout(function() {
                var newShard = document.getElementById('mongoShard' + mongoShardCount);
                if (newShard) {
                    newShard.classList.remove('new-shard');
                    logFinal('🎯 Shard ' + mongoShardCount + ' balancing completed - production ready');
                }
            }, 3000);
        }

        function resetFinal() {
            totalRecords = 0;
            mongoShardCount = 3;
            sqlPartitionCount = 1;
            mongoData = { shard1: 0, shard2: 0, shard3: 0 };
            sqlData = [0];

            updateStatsFinal();
            renderMongoShardsFinal();
            renderSqlPartitionsFinal();
            
            document.getElementById('logContainer').innerHTML = '';

            logFinal('🔄 Demo reset to initial 3-shard configuration');
            logFinal('📊 MongoDB: Ready for horizontal scaling demonstration');
            logFinal('🗄️ SQL: Single partition, manual scaling required');
            logFinal('🚀 Try adding data and shards to see the difference!');
        }

        function toggleDemoOverview() {
            var overview = document.getElementById('demoOverview');
            var toggle = document.getElementById('demoToggle');
            
            if (overview.style.display === 'none') {
                overview.style.display = 'block';
                toggle.textContent = '▲';
            } else {
                overview.style.display = 'none';
                toggle.textContent = '▼';
            }
        }

        // Handle outside clicks
        document.addEventListener('click', (e) => {
            const navMenu = document.getElementById('navMenu');
            const menuToggle = document.getElementById('menuToggle');
            
            // Close menu if clicking outside
            if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                closeMobileMenu();
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeMobileMenu();
            }
        });

        // Initialize everything when DOM is ready
        window.onload = function() {
            initializeAccordion();
            updatePostgreSQLCommands(); // Initialize PostgreSQL commands
            logFinal('🎉 MongoDB vs SQL horizontal scaling demo initialized');
            logFinal('🔧 MongoDB sharded cluster with mongos router active');
            logFinal('🗄️ SQL manual partitioning setup ready for comparison');
            renderMongoShardsFinal();
            renderSqlPartitionsFinal();
            updateStatsFinal();
            logFinal('✅ Demo ready - click buttons to see scaling in action!');
        };
    </script>
</body>
</html>